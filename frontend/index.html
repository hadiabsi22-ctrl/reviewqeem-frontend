<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø±ÙŠÙÙŠÙˆ Ù‚ÙŠÙ… - Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</title>

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #6c5ce7;
      --primary-dark: #5f3dc4;
      --secondary: #00b894;
      --accent: #fd79a8;
      --golden: #FFD700; /* Ø£ØµÙØ± Ù…Ø®Ù…Ù„ÙŠ Ø¬Ø¯ÙŠØ¯ */
      --dark-bg: #0d0d11;
      --card-bg: #1a1a24;
      --text-primary: #ffffff;
      --text-secondary: #b8b8cc;
      --border-color: #2a2a3a;
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      --radius: 12px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Tajawal', sans-serif;
      background: var(--dark-bg);
      color: var(--text-primary);
      line-height: 1.6;
      min-height: 100vh;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* ===== Ø§Ù„Ù‡ÙŠØ¯Ø± Ù…Ø¹ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© ===== */
    header {
      background: var(--card-bg);
      padding: 15px 0;
      border-bottom: 2px solid var(--primary);
      margin-bottom: 30px;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 15px;
      text-decoration: none;
    }

    .logo-icon {
      width: 45px;
      height: 45px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: bold;
      font-size: 1.3rem;
    }

    .logo-text {
      font-size: 1.8rem;
      font-weight: 800;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .menu-toggle {
      display: none;
      background: none;
      border: none;
      color: var(--text-primary);
      font-size: 1.5rem;
      cursor: pointer;
      padding: 5px;
    }

    .nav-links {
      display: flex;
      gap: 30px;
      list-style: none;
      align-items: center;
    }

    .nav-links a {
      color: var(--text-secondary);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.3s;
      position: relative;
      padding: 5px 0;
    }

    .nav-links a:hover,
    .nav-links a.active {
      color: var(--primary);
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 0;
      height: 2px;
      background: var(--primary);
      transition: width 0.3s;
    }

    .nav-links a:hover::after,
    .nav-links a.active::after {
      width: 100%;
    }

    /* ===== Hero Section Ù…Ø¹ Ø§Ù„Ø®Ø· Ø§Ù„Ø°Ù‡Ø¨ÙŠ ===== */
    .hero {
      text-align: center;
      padding: 80px 0 50px;
      background: linear-gradient(135deg, 
        rgba(108, 92, 231, 0.1) 0%, 
        rgba(0, 184, 148, 0.1) 100%);
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 40px;
    }

    .hero h2 {
      font-size: 3.2rem;
      margin-bottom: 20px;
      color: var(--golden); /* Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ù…Ø®Ù…Ù„ÙŠ */
      font-weight: 800;
      text-shadow: 0 4px 20px rgba(255, 215, 0, 0.3);
      line-height: 1.2;
      letter-spacing: -0.5px;
    }

    .hero h2 span {
      background: linear-gradient(135deg, var(--golden), #FFA500);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      display: inline-block;
    }

    .hero p {
      color: var(--text-secondary);
      font-size: 1.2rem;
      max-width: 700px;
      margin: 0 auto 30px;
      line-height: 1.8;
    }

    .search-box {
      display: flex;
      max-width: 600px;
      margin: 30px auto;
      background: var(--card-bg);
      border: 2px solid var(--border-color);
      border-radius: var(--radius);
      padding: 5px;
      transition: all 0.3s;
    }

    .search-box:focus-within {
      border-color: var(--primary);
      box-shadow: 0 0 20px rgba(108, 92, 231, 0.3);
    }

    .search-box input {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--text-primary);
      padding: 15px;
      font-size: 1rem;
      outline: none;
      font-family: 'Tajawal', sans-serif;
    }

    .search-box button {
      background: var(--primary);
      border: none;
      color: white;
      padding: 0 25px;
      border-radius: calc(var(--radius) - 5px);
      cursor: pointer;
      transition: all 0.3s;
      font-family: 'Tajawal', sans-serif;
    }

    .search-box button:hover {
      background: var(--primary-dark);
    }

    /* ===== Stats Section ===== */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }

    .stat-card {
      background: var(--card-bg);
      padding: 25px;
      border-radius: var(--radius);
      text-align: center;
      border: 1px solid var(--border-color);
      transition: transform 0.3s;
    }

    .stat-card:hover {
      transform: translateY(-5px);
    }

    .stat-number {
      font-size: 2.5rem;
      font-weight: 800;
      color: var(--primary);
      margin-bottom: 10px;
      font-family: 'Tajawal', sans-serif;
    }

    .stat-label {
      color: var(--text-secondary);
      font-size: 1.1rem;
    }

    /* ===== Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù…Ø¹ Ø§Ù„Ø®Ø· Ø§Ù„Ø°Ù‡Ø¨ÙŠ ===== */
    .section-title {
      font-size: 2.2rem;
      color: var(--golden);
      margin: 50px 0 30px;
      text-align: center;
      font-weight: 800;
      text-shadow: 0 2px 15px rgba(255, 215, 0, 0.2);
      position: relative;
      padding-bottom: 15px;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 50%;
      transform: translateX(50%);
      width: 100px;
      height: 3px;
      background: linear-gradient(135deg, var(--golden), #FFA500);
      border-radius: 2px;
    }

    /* ===== Reviews Grid ===== */
    .reviews-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 25px;
      margin: 40px 0;
    }

    .review-card {
      background: var(--card-bg);
      border-radius: var(--radius);
      overflow: hidden;
      border: 1px solid var(--border-color);
      transition: all 0.3s;
      cursor: pointer;
      box-shadow: var(--shadow);
    }

    .review-card:hover {
      transform: translateY(-10px);
      border-color: var(--primary);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
    }

    .card-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      transition: transform 0.5s;
    }

    .review-card:hover .card-image {
      transform: scale(1.05);
    }

    .card-content {
      padding: 20px;
    }

    .card-title {
      font-size: 1.3rem;
      margin-bottom: 10px;
      color: var(--text-primary);
      font-weight: 700;
      line-height: 1.4;
    }

    .review-card:hover .card-title {
      color: var(--primary);
    }

    .card-excerpt {
      color: var(--text-secondary);
      font-size: 0.95rem;
      margin-bottom: 15px;
      line-height: 1.5;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .card-footer {
      display: flex;
      justify-content: space-between;
      color: var(--text-secondary);
      font-size: 0.9rem;
      border-top: 1px solid var(--border-color);
      padding-top: 15px;
    }

    .rating {
      color: var(--golden);
      font-weight: 600;
    }

    /* ===== Footer ===== */
    footer {
      background: var(--card-bg);
      padding: 40px 0 20px;
      border-top: 2px solid var(--primary);
      margin-top: 60px;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-bottom: 30px;
    }

    .footer-section h3 {
      color: var(--primary);
      margin-bottom: 15px;
      font-size: 1.3rem;
    }

    .footer-links {
      list-style: none;
    }

    .footer-links li {
      margin-bottom: 10px;
    }

    .footer-links a {
      color: var(--text-secondary);
      text-decoration: none;
      transition: color 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.95rem;
    }

    .footer-links a:hover {
      color: var(--primary);
    }

    .copyright {
      text-align: center;
      color: var(--text-secondary);
      font-size: 0.9rem;
      padding-top: 20px;
      border-top: 1px solid var(--border-color);
    }

    /* ===== Responsive ===== */
    @media (max-width: 768px) {
      .menu-toggle {
        display: block;
      }

      .nav-links {
        position: fixed;
        top: 70px;
        right: -100%;
        width: 250px;
        height: calc(100vh - 70px);
        background: var(--card-bg);
        flex-direction: column;
        gap: 0;
        padding: 20px;
        border-left: 2px solid var(--primary);
        transition: right 0.3s;
        z-index: 1000;
      }

      .nav-links.active {
        right: 0;
      }

      .nav-links li {
        width: 100%;
      }

      .nav-links a {
        display: block;
        padding: 15px;
        border-bottom: 1px solid var(--border-color);
      }

      .nav-links a::after {
        display: none;
      }

      .hero h2 {
        font-size: 2.5rem;
      }

      .hero p {
        font-size: 1.1rem;
        padding: 0 10px;
      }

      .section-title {
        font-size: 1.8rem;
      }

      .reviews-grid {
        grid-template-columns: 1fr;
        gap: 20px;
      }

      .stats-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 480px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }
      
      .footer-content {
        grid-template-columns: 1fr;
      }
      
      .hero h2 {
        font-size: 2rem;
      }
    }
  </style>
</head>

<body>
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <div class="logo-icon">RQ</div>
                    <div class="logo-text">Ø±ÙŠÙÙŠÙˆ Ù‚ÙŠÙ…</div>
                </a>

                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>

                <ul class="nav-links" id="navLinks">
                    <li><a href="index.html" class="active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="reviews-list.html">Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</a></li>
                    <li><a href="categories.html">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a></li>
                    <li><a href="about.html">Ù…Ù† Ù†Ø­Ù†</a></li>
                    <li><a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                    <li><a href="privacy.html">Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>
                    <li><a href="admin.html" id="adminNavLink" style="display:none;">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2><span>Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø£Ù„Ø¹Ø§Ø¨</span> Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h2>
            <p>Ø§ÙƒØªØ´Ù Ø£Ø­Ø¯Ø« ÙˆØ£Ù‡Ù… Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¹ ØªØ­Ù„ÙŠÙ„ Ø¯Ù‚ÙŠÙ‚ ÙˆØªÙ‚ÙŠÙŠÙ… Ù…ÙˆØ¶ÙˆØ¹ÙŠ Ù…Ù† ÙØ±ÙŠÙ‚Ù†Ø§ Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø§Ù„Ù…ØªØ®ØµØµ</p>
            
            <div class="search-box">
                <input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù„Ø¹Ø¨Ø© Ø£Ùˆ Ù…Ø±Ø§Ø¬Ø¹Ø©..." id="searchInput">
                <button id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <div class="container">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="totalReviews">0</div>
                <div class="stat-label">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ©</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalViews">0</div>
                <div class="stat-label">Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">8+</div>
                <div class="stat-label">Ù…Ù†ØµØ© Ù…Ø¯Ø¹ÙˆÙ…Ø©</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="totalComments">0</div>
                <div class="stat-label">ØªØ¹Ù„ÙŠÙ‚ Ù†Ø´Ø·</div>
            </div>
        </div>
    </div>

    <!-- Latest Reviews -->
    <div class="container">
        <h2 class="section-title">âœ¨ Ø£Ø­Ø¯Ø« Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</h2>
        
        <div class="reviews-grid" id="latestReviews">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ù€ JavaScript -->
        </div>

        <div style="text-align: center; margin: 40px 0;">
            <a href="reviews-list.html" style="
                display: inline-block;
                background: var(--primary);
                color: white;
                padding: 14px 35px;
                border-radius: var(--radius);
                text-decoration: none;
                font-weight: 600;
                transition: all 0.3s;
                font-size: 1.1rem;
                border: none;
                cursor: pointer;
            " onmouseover="this.style.background='var(--primary-dark)'; this.style.transform='translateY(-3px)'; this.style.boxShadow='var(--shadow)';"
               onmouseout="this.style.background='var(--primary)'; this.style.transform='translateY(0)'; this.style.boxShadow='none';">
                <i class="fas fa-newspaper"></i> Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª
            </a>
        </div>
    </div>

    <!-- Most Viewed Reviews -->
    <div class="container">
        <h2 class="section-title">ğŸ”¥ Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©</h2>
        
        <div class="reviews-grid" id="mostViewed">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ù€ JavaScript -->
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Ø¹Ù† ReviewQeem</h3>
                    <p style="color: var(--text-secondary); line-height: 1.7;">Ù…Ù†ØµØ© Ø¹Ø±Ø¨ÙŠØ© Ù…ØªØ®ØµØµØ© ÙÙŠ Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø¨ØªÙ‚ÙŠÙŠÙ…Ø§Øª Ù…ÙˆØ¶ÙˆØ¹ÙŠØ©ØŒ Ù†Ù‚Ø¯Ù… Ù…Ø­ØªÙˆÙ‰ Ø¹Ø±Ø¨ÙŠ Ø£ØµÙŠÙ„ Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©.</p>
                </div>
                
                <div class="footer-section">
                    <h3>Ø±ÙˆØ§Ø¨Ø· Ù…Ù‡Ù…Ø©</h3>
                    <ul class="footer-links">
                        <li><a href="about.html"><i class="fas fa-info-circle"></i> Ù…Ù† Ù†Ø­Ù†</a></li>
                        <li><a href="privacy.html"><i class="fas fa-shield-alt"></i> Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>
                        <li><a href="terms.html"><i class="fas fa-file-contract"></i> Ø§Ù„Ø´Ø±ÙˆØ·</a></li>
                        <li><a href="cookies.html"><i class="fas fa-cookie-bite"></i> Ø§Ù„ÙƒÙˆÙƒÙŠØ²</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
                    <ul class="footer-links">
                        <li><a href="mailto:info@reviewqeem.com"><i class="fas fa-envelope"></i> Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</a></li>
                        <li><a href="contact.html"><i class="fas fa-headset"></i> Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>Â© 2025 Ø±ÙŠÙÙŠÙˆ Ù‚ÙŠÙ…. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
                <p style="margin-top: 8px; font-size: 0.85rem; color: var(--text-secondary);">
                    ØµÙ†Ø¹ Ø¨ÙƒÙ„ â¤ï¸ Ù„Ø¹Ø´Ø§Ù‚ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¹Ø±Ø¨
                </p>
            </div>
        </div>
    </footer>

    <script>
        // ===== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© =====
        const menuToggle = document.getElementById('menuToggle');
        const navLinks = document.getElementById('navLinks');

        menuToggle.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            menuToggle.innerHTML = navLinks.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.addEventListener('click', (e) => {
            if (!navLinks.contains(e.target) && !menuToggle.contains(e.target)) {
                navLinks.classList.remove('active');
                menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
            }
        });

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø·
        document.querySelectorAll('.nav-links a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
            });
        });

        // ===== ØªØ¹Ø±ÙŠÙ Ø±ÙˆØ§Ø¨Ø· API Ø§Ù„ØµØ­ÙŠØ­Ø© =====
        const API_BASE = 'https://reviewqeem.online/api';
        const ENDPOINTS = {
            PUBLISHED: `${API_BASE}/reviews/published`,          // âœ… Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­ Ø§Ù„ÙˆØ­ÙŠØ¯
            ALL_REVIEWS: `${API_BASE}/reviews`,                  // âœ… Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª
            CATEGORIES: `${API_BASE}/categories`,                // âœ… Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
            UPLOADS: 'https://reviewqeem.online/uploads/images'  // âœ… Ø§Ù„ØµÙˆØ±
        };

        // ===== Ø¯Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© =====
        function truncateText(text, maxLength = 100) {
            if (!text) return '';
            if (text.length <= maxLength) return text;
            return text.substring(0, maxLength) + '...';
        }

        function formatDate(dateString) {
            if (!dateString) return '';
            try {
                const date = new Date(dateString);
                return date.toLocaleDateString('ar-EG', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            } catch {
                return dateString;
            }
        }

        function getPlatformIcon(platform) {
            const icons = {
                'PS5': 'ğŸ®',
                'PS4': 'ğŸ®',
                'Xbox': 'ğŸ®',
                'PC': 'ğŸ’»',
                'Switch': 'ğŸ®',
                'Mobile': 'ğŸ“±',
                'Android': 'ğŸ“±',
                'iOS': 'ğŸ“±'
            };
            return icons[platform] || 'ğŸ®';
        }

        // ===== Ø¬Ù„Ø¨ ÙˆØ¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª =====
        async function fetchData() {
            try {
                console.log('ğŸ“¡ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø©...');
                
                // âœ… Ø¬Ù„Ø¨ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø© ÙÙ‚Ø·
                const response = await fetch(ENDPOINTS.PUBLISHED);
                
                if (!response.ok) {
                    throw new Error(`Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ±: ${response.status}`);
                }
                
                const data = await response.json();
                
                // âœ… Ø¯Ø¹Ù… ØªÙ†Ø³ÙŠÙ‚ÙŠÙ†: {success, data} Ø£Ùˆ {success, reviews}
                let reviews = [];
                if (data.success) {
                    reviews = data.data || data.reviews || [];
                } else {
                    throw new Error('Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØºÙŠØ± Ù†Ø§Ø¬Ø­Ø© Ù…Ù† Ø§Ù„Ø³ÙŠØ±ÙØ±');
                }
                
                console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${reviews.length} Ù…Ø±Ø§Ø¬Ø¹Ø©`);
                
                // âœ… Ø¹Ø±Ø¶ Ø¢Ø®Ø± Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª
                loadLatestReviews(reviews);
                
                // âœ… Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙƒØ«Ø± Ù…Ø´Ø§Ù‡Ø¯Ø©
                loadMostViewed(reviews);
                
                // âœ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                updateStats(reviews);
                
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                showFallbackData();
            }
        }

        function loadLatestReviews(reviews) {
            const container = document.getElementById('latestReviews');
            if (!container) return;
            
            // âœ… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ£Ø®Ø° Ø¢Ø®Ø± 6
            const latest = [...reviews]
                .sort((a, b) => new Date(b.createdAt || b.reviewDate || 0) - new Date(a.createdAt || a.reviewDate || 0))
                .slice(0, 6);
            
            if (latest.length === 0) {
                container.innerHTML = `
                    <div style="grid-column:1/-1; text-align:center; padding:40px; color:var(--text-secondary);">
                        <i class="fas fa-newspaper" style="font-size:3rem; opacity:0.5; margin-bottom:15px;"></i>
                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ù…Ù†Ø´ÙˆØ±Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = latest.map(review => {
                const reviewId = review.id || review._id;
                const title = review.title || "Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ø¹Ø¨Ø©";
                const summary = review.summary || review.content || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ";
                const rating = review.rating || 0;
                const views = review.views || 0;
                const image = review.coverImage || review.mainImage || `${ENDPOINTS.UPLOADS}/default-review.jpg`;
                const date = formatDate(review.createdAt || review.reviewDate);
                
                return `
                    <div class="review-card" onclick="window.location.href='review-view.html?id=${reviewId}'">
                        <img src="${image}" 
                             alt="${title}" 
                             class="card-image"
                             onerror="this.src='${ENDPOINTS.UPLOADS}/default-review.jpg'">
                        <div class="card-content">
                            <h3 class="card-title">${title}</h3>
                            <p class="card-excerpt">${truncateText(summary, 120)}</p>
                            <div class="card-footer">
                                <span class="rating"><i class="fas fa-star"></i> ${rating.toFixed(1)}</span>
                                <span>${date}</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function loadMostViewed(reviews) {
            const container = document.getElementById('mostViewed');
            if (!container) return;
            
            // âœ… ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª ÙˆØ£Ø®Ø° Ø£Ø¹Ù„Ù‰ 3
            const mostViewed = [...reviews]
                .sort((a, b) => (b.views || 0) - (a.views || 0))
                .slice(0, 3);
            
            if (mostViewed.length === 0) {
                container.innerHTML = `
                    <div style="grid-column:1/-1; text-align:center; padding:40px; color:var(--text-secondary);">
                        <i class="fas fa-eye" style="font-size:3rem; opacity:0.5; margin-bottom:15px;"></i>
                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø¨Ø¹Ø¯</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = mostViewed.map(review => {
                const reviewId = review.id || review._id;
                const title = review.title || "Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ø¹Ø¨Ø©";
                const summary = review.summary || review.content || "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ";
                const views = review.views || 0;
                const image = review.coverImage || review.mainImage || `${ENDPOINTS.UPLOADS}/default-review.jpg`;
                const date = formatDate(review.createdAt || review.reviewDate);
                
                return `
                    <div class="review-card" onclick="window.location.href='review-view.html?id=${reviewId}'">
                        <img src="${image}" 
                             alt="${title}" 
                             class="card-image"
                             onerror="this.src='${ENDPOINTS.UPLOADS}/default-review.jpg'">
                        <div class="card-content">
                            <h3 class="card-title">${title}</h3>
                            <p class="card-excerpt">${truncateText(summary, 100)}</p>
                            <div class="card-footer">
                                <span><i class="fas fa-eye"></i> ${views} Ù…Ø´Ø§Ù‡Ø¯Ø©</span>
                                <span>${date}</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateStats(reviews) {
            try {
                const totalReviews = document.getElementById('totalReviews');
                const totalViews = document.getElementById('totalViews');
                const totalComments = document.getElementById('totalComments');
                
                if (totalReviews) {
                    totalReviews.textContent = reviews.length;
                }
                
                if (totalViews) {
                    const totalViewsCount = reviews.reduce((sum, review) => sum + (review.views || 0), 0);
                    totalViews.textContent = totalViewsCount.toLocaleString();
                }
                
                if (totalComments) {
                    const totalCommentsCount = reviews.reduce((sum, review) => sum + (review.commentsCount || 0), 0);
                    totalComments.textContent = totalCommentsCount;
                }
                
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª:', error);
            }
        }

        function showFallbackData() {
            // âœ… Ø¨ÙŠØ§Ù†Ø§Øª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© Ø¥Ø°Ø§ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù€ API
            const fallbackReviews = [
                {
                    id: '1',
                    title: 'Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ø¹Ø¨Ø© Elden Ring',
                    summary: 'Ù„Ø¹Ø¨Ø© Ø±Ø§Ø¦Ø¹Ø© Ù…Ù† Ø´Ø±ÙƒØ© FromSoftware ØªÙ‚Ø¯Ù… ØªØ¬Ø±Ø¨Ø© Ù„Ø¹Ø¨ Ù…Ù…ØªØ¹Ø© Ù…Ø¹ Ø¹Ø§Ù„Ù… Ù…ÙØªÙˆØ­ ÙˆØ§Ø³Ø¹ ÙˆØªØ­Ø¯ÙŠØ§Øª ØµØ¹Ø¨Ø© ØªÙ†Ø§Ø³Ø¨ Ø¹Ø´Ø§Ù‚ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨.',
                    rating: 9.5,
                    views: 1500,
                    coverImage: 'https://reviewqeem.online/uploads/images/default-review.jpg',
                    createdAt: new Date().toISOString(),
                    commentsCount: 45
                },
                {
                    id: '2',
                    title: 'Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ø¹Ø¨Ø© God of War RagnarÃ¶k',
                    summary: 'Ø§Ø³ØªÙ…Ø±Ø§Ø± Ù…Ù„Ø­Ù…Ø© ÙƒØ±ÙŠØªÙˆØ³ ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ù†ÙˆØ±Ø¯ÙŠÙƒ Ù…Ø¹ Ø¬Ø±Ø§ÙÙŠÙƒ Ù…Ø­Ø³Ù‘Ù† ÙˆÙ‚ØµØ© Ù…Ø¤Ø«Ø±Ø© ÙˆØªØ¬Ø±Ø¨Ø© Ù„Ø¹Ø¨ Ù…ØªØ·ÙˆØ±Ø©.',
                    rating: 9.0,
                    views: 1200,
                    coverImage: 'https://reviewqeem.online/uploads/images/default-review.jpg',
                    createdAt: new Date().toISOString(),
                    commentsCount: 32
                },
                {
                    id: '3',
                    title: 'Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ø¹Ø¨Ø© FIFA 24',
                    summary: 'Ø£Ø­Ø¯Ø« Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø³Ù„Ø³Ù„Ø© FIFA Ù…Ø¹ ØªØ­Ø³ÙŠÙ†Ø§Øª ÙÙŠ Ø§Ù„Ù…Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© ÙˆØªØ¬Ø±Ø¨Ø© Ù„Ø¹Ø¨ Ø£ÙƒØ«Ø± ÙˆØ§Ù‚Ø¹ÙŠØ©.',
                    rating: 8.5,
                    views: 900,
                    coverImage: 'https://reviewqeem.online/uploads/images/default-review.jpg',
                    createdAt: new Date().toISOString(),
                    commentsCount: 28
                }
            ];
            
            loadLatestReviews(fallbackReviews);
            loadMostViewed(fallbackReviews);
            updateStats(fallbackReviews);
        }

        // ===== Ù†Ø¸Ø§Ù… Ø§Ù„Ø¨Ø­Ø« =====
        document.getElementById('searchBtn').addEventListener('click', handleSearch);
        document.getElementById('searchInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') handleSearch();
        });

        function handleSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) return;
            
            // âœ… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ù…Ø¹ Ù…Ø¹Ù„Ù…Ø© Ø§Ù„Ø¨Ø­Ø«
            window.location.href = `reviews-list.html?search=${encodeURIComponent(query)}`;
        }

        // ===== Ø¥Ø¯Ø§Ø±Ø© Ø²Ø± Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… =====
        function checkAdminSession() {
            const adminLink = document.getElementById('adminNavLink');
            if (!adminLink) return;
            
            try {
                const session = localStorage.getItem('admin_session_reviewqeem');
                if (!session) {
                    adminLink.style.display = 'none';
                    return;
                }
                
                const sessionData = JSON.parse(session);
                const isAdmin = sessionData && 
                               sessionData.expires && 
                               Date.now() < sessionData.expires;
                
                adminLink.style.display = isAdmin ? 'block' : 'none';
                
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù„Ø³Ø© Ø§Ù„Ø£Ø¯Ù…Ù†:', error);
                adminLink.style.display = 'none';
            }
        }

        // ===== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© =====
        document.addEventListener('DOMContentLoaded', function() {
            // âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù„Ø³Ø© Ø§Ù„Ø£Ø¯Ù…Ù†
            checkAdminSession();
            
            // âœ… Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            fetchData();
            
            // âœ… Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            setTimeout(() => {
                const cards = document.querySelectorAll('.review-card');
                cards.forEach((card, index) => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    
                    setTimeout(() => {
                        card.style.transition = 'opacity 0.5s, transform 0.5s';
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, index * 100);
                });
            }, 300);
            
            // âœ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ ÙƒÙ„ 30 Ø«Ø§Ù†ÙŠØ©
            setInterval(() => {
                if (document.visibilityState === 'visible') {
                    fetchData();
                }
            }, 30000);
        });
    </script>
</body>
</html>
