<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø±Ø§Ø¬Ø¹Ø© Ù„Ø¹Ø¨Ø© - ReviewQeem</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&family=Almarai:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #6c5ce7; --primary-dark: #5b4cdb; --secondary: #00b894;
            --accent: #fd79a8; --text: #fff; --text-light: #b0b7c3;
            --dark: #0a0a0f; --darker: #050508; --card: #12121a;
            --border: #1f2937; --shadow-lg: 0 16px 48px rgba(0,0,0,0.5);
            --radius-lg: 16px; --radius-md: 12px; --font-head: 'Tajawal'; --font-body: 'Almarai';
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: var(--font-body); background: var(--darker); color: var(--text); line-height: 1.6; }
        .container { max-width: 1320px; margin: 0 auto; padding: 0 20px; }
        
        /* Header */
        header {
            position: fixed; top: 0; right: 0; left: 0;
            background: rgba(10,10,15,0.95); backdrop-filter: blur(24px);
            border-bottom: 1px solid var(--border); z-index: 1000;
        }
        .header-content { display: flex; justify-content: space-between; align-items: center; padding: 14px 0; }
        .logo { display: flex; align-items: center; gap: 16px; text-decoration: none; }
        .logo-mark {
            width: 48px; height: 48px; border-radius: var(--radius-lg);
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            display: flex; align-items: center; justify-content: center;
            font-family: var(--font-head); font-weight: 800; color: white;
        }
        .logo-text {
            font-family: var(--font-head); font-size: 1.8rem; font-weight: 700;
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        
        /* Navigation - Dropdown Menu */
        .nav-desktop { display: flex; gap: 32px; list-style: none; align-items: center; }
        .nav-desktop a { color: var(--text-light); text-decoration: none; font-family: var(--font-head); font-weight: 500; padding: 8px 0; position: relative; transition: 0.3s; }
        .nav-desktop a:hover, .nav-desktop a.active { color: white; }
        .nav-desktop a::after { content: ''; position: absolute; bottom: 0; right: 0; width: 0; height: 2px; background: linear-gradient(135deg, #6c5ce7, #a29bfe); transition: 0.3s; }
        .nav-desktop a:hover::after, .nav-desktop a.active::after { width: 100%; }
        
        .dropdown { position: relative; }
        .dropdown-content {
            position: absolute; top: 100%; right: 0; background: var(--card);
            min-width: 200px; border-radius: var(--radius-md); padding: 12px 0;
            box-shadow: var(--shadow-lg); border: 1px solid var(--border);
            opacity: 0; visibility: hidden; transform: translateY(10px);
            transition: 0.3s; z-index: 1001;
        }
        .dropdown:hover .dropdown-content { opacity: 1; visibility: visible; transform: translateY(0); }
        .dropdown-content a { display: block; padding: 10px 24px; color: var(--text-light); white-space: nowrap; }
        .dropdown-content a:hover { background: rgba(108,92,231,0.1); color: white; }
        
        /* Mobile Menu */
        .mobile-menu-btn { display: none; background: none; border: none; color: white; font-size: 1.3rem; cursor: pointer; }
        .mobile-sidebar {
            position: fixed; top: 0; right: -100%; width: 300px; height: 100vh;
            background: var(--card); z-index: 1002; transition: right 0.4s;
            overflow-y: auto; padding: 20px; border-left: 1px solid var(--border);
        }
        .mobile-sidebar.active { right: 0; }
        .sidebar-nav { list-style: none; }
        .sidebar-nav li { margin-bottom: 15px; }
        .sidebar-nav a { color: var(--text-light); text-decoration: none; font-family: var(--font-head); font-size: 1.1rem; display: block; padding: 12px 16px; border-radius: 10px; transition: 0.3s; }
        .sidebar-nav a:hover { background: rgba(108,92,231,0.1); color: white; padding-right: 24px; }
        .sidebar-overlay { position: fixed; top: 0; right: 0; bottom: 0; left: 0; background: rgba(0,0,0,0.7); z-index: 1001; opacity: 0; visibility: hidden; transition: 0.3s; }
        .sidebar-overlay.active { opacity: 1; visibility: visible; }
        
        /* Breadcrumb */
        .breadcrumb { margin: 100px 0 30px; padding: 20px; background: var(--card); border-radius: var(--radius-md); border: 1px solid var(--border); display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
        .breadcrumb a { color: var(--text-light); text-decoration: none; font-family: var(--font-head); display: flex; align-items: center; gap: 8px; transition: 0.3s; }
        .breadcrumb a:hover { color: var(--primary); transform: translateY(-2px); }
        
        /* Review Hero */
        .review-hero {
            display: grid; grid-template-columns: 1fr 450px; gap: 40px;
            background: linear-gradient(135deg, rgba(108,92,231,0.1), rgba(0,184,148,0.1));
            border-radius: var(--radius-lg); padding: 40px; margin-bottom: 40px;
            border: 1px solid var(--border); position: relative; overflow: hidden;
        }
        .review-hero::before { content: ''; position: absolute; top: 0; right: 0; width: 100%; height: 100%; background: radial-gradient(circle at 70% 30%, rgba(108,92,231,0.05), transparent 50%); }
        .review-title { font-family: var(--font-head); font-size: 2.8rem; font-weight: 800; margin-bottom: 20px; background: linear-gradient(135deg, #6c5ce7, #a29bfe); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .review-meta { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 30px; }
        .meta-item { display: flex; align-items: center; gap: 10px; padding: 10px 16px; background: rgba(255,255,255,0.05); border-radius: var(--radius-md); border: 1px solid var(--border); }
        .review-image-container { position: relative; border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-lg); }
        .review-image { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .review-image:hover { transform: scale(1.05); }
        
        /* Rating */
        .rating-section { display: flex; align-items: center; gap: 30px; background: var(--card); padding: 25px; border-radius: var(--radius-lg); border: 1px solid var(--border); margin-bottom: 40px; }
        .rating-number { font-size: 3.5rem; font-weight: 900; background: linear-gradient(135deg, #6c5ce7, #a29bfe); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .stars { display: flex; gap: 8px; font-size: 1.8rem; }
        .stars i { color: #fbbf24; }
        
        /* Sections */
        .content-section, .screenshots-section, .tags-section, .stats-section, .purchase-section { background: var(--card); padding: 30px; border-radius: var(--radius-lg); border: 1px solid var(--border); margin-bottom: 40px; }
        h2 { font-family: var(--font-head); font-size: 2rem; margin-bottom: 25px; display: flex; align-items: center; gap: 12px; }
        
        /* Screenshots */
        .screenshots-slider { display: flex; gap: 20px; overflow-x: auto; padding: 20px 10px; }
        .screenshot-item { flex: 0 0 auto; width: 300px; height: 200px; border-radius: var(--radius-md); overflow: hidden; cursor: pointer; }
        .screenshot-item img { width: 100%; height: 100%; object-fit: cover; }
        
        /* Tags */
        .tags-container { display: flex; flex-wrap: wrap; gap: 12px; }
        .tag { background: linear-gradient(135deg, #6c5ce7, #a29bfe); color: white; padding: 10px 20px; border-radius: 25px; font-size: 0.95rem; font-weight: 600; }
        
        /* Stats */
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
        .stat-card { background: rgba(255,255,255,0.05); padding: 25px; border-radius: var(--radius-md); text-align: center; }
        .stat-value { font-size: 2.5rem; font-weight: 800; margin-bottom: 5px; }
        
        /* Purchase */
        .platforms-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; margin-top: 25px; }
        .platform-card { background: rgba(255,255,255,0.05); border-radius: var(--radius-lg); border: 1px solid var(--border); padding: 25px; text-align: center; }
        .btn-buy { display: inline-block; background: linear-gradient(135deg, #6c5ce7, #a29bfe); color: white; text-decoration: none; padding: 14px 32px; border-radius: var(--radius-md); font-weight: 700; width: 100%; margin-top: 10px; }
        
        /* Related Reviews */
        .related-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px; margin-top: 25px; }
        .related-card { background: var(--card); border-radius: var(--radius-lg); border: 1px solid var(--border); overflow: hidden; text-decoration: none; color: var(--text); }
        .related-image { width: 100%; height: 200px; object-fit: cover; }
        
        /* Comments */
        .comments-section { background: var(--card); padding: 35px; border-radius: var(--radius-lg); border: 1px solid var(--border); margin-bottom: 40px; }
        .comment-form-section { background: rgba(255,255,255,0.05); padding: 30px; border-radius: var(--radius-lg); margin-bottom: 40px; border: 1px solid var(--border); }
        .form-input, .form-textarea { width: 100%; padding: 14px 18px; background: var(--darker); border: 1px solid var(--border); border-radius: var(--radius-md); color: var(--text); font-size: 1rem; }
        .char-counter { text-align: left; color: var(--text-light); font-size: 0.9rem; margin-top: 8px; }
        .char-counter.warning { color: #f59e0b; }
        .char-counter.error { color: #ef4444; }
        
        /* Footer */
        footer { background: #050508; border-top: 1px solid var(--border); padding: 50px 0 25px; margin-top: 60px; }
        
        /* Responsive */
        @media (max-width: 992px) {
            .review-hero { grid-template-columns: 1fr; }
            .review-title { font-size: 2.2rem; }
            .mobile-menu-btn { display: block; }
            .nav-desktop { display: none; }
        }
        @media (max-width: 768px) {
            .rating-section { flex-direction: column; text-align: center; gap: 20px; }
            .platforms-grid, .related-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>

<body>
    <!-- Mobile Sidebar -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <div class="mobile-sidebar" id="mobileSidebar">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid var(--border);">
            <div class="logo">
                <div class="logo-mark">RQ</div>
                <div class="logo-text">ReviewQeem</div>
            </div>
            <button id="closeSidebar" style="background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer;">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <ul class="sidebar-nav">
            <li><a href="index.html"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
            <li><a href="reviews-list.html"><i class="fas fa-list"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</a></li>
            <li><a href="reviews-list.html?platform=ps5"><i class="fab fa-playstation"></i> PS5</a></li>
            <li><a href="reviews-list.html?platform=xbox"><i class="fab fa-xbox"></i> Xbox</a></li>
            <li><a href="reviews-list.html?platform=pc"><i class="fas fa-desktop"></i> PC</a></li>
            <li><a href="reviews-list.html?platform=switch"><i class="fas fa-gamepad"></i> Switch</a></li>
            <li><a href="about.html"><i class="fas fa-info-circle"></i> Ø¹Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹</a></li>
            <li><a href="contact.html"><i class="fas fa-envelope"></i> Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
            <li><a href="admin.html" id="adminMobileLink" style="display:none"><i class="fas fa-cog"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
        </ul>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <div class="logo-mark">RQ</div>
                    <div class="logo-text">ReviewQeem</div>
                </a>

                <!-- Desktop Navigation -->
                <nav>
                    <ul class="nav-desktop">
                        <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li class="dropdown">
                            <a href="reviews-list.html" class="active">Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª <i class="fas fa-chevron-down"></i></a>
                            <div class="dropdown-content">
                                <a href="reviews-list.html"><i class="fas fa-list"></i> Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</a>
                                <a href="reviews-list.html?platform=ps5"><i class="fab fa-playstation"></i> PS5</a>
                                <a href="reviews-list.html?platform=xbox"><i class="fab fa-xbox"></i> Xbox</a>
                                <a href="reviews-list.html?platform=pc"><i class="fas fa-desktop"></i> PC</a>
                                <a href="reviews-list.html?platform=switch"><i class="fas fa-gamepad"></i> Switch</a>
                                <a href="reviews-list.html?sort=latest"><i class="fas fa-fire"></i> Ø§Ù„Ø£Ø­Ø¯Ø«</a>
                                <a href="reviews-list.html?sort=top"><i class="fas fa-star"></i> Ø§Ù„Ø£Ø¹Ù„Ù‰ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹</a>
                            </div>
                        </li>
                        <li><a href="about.html">Ø¹Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹</a></li>
                        <li><a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                        <li><a href="admin.html" id="adminNavLink" style="display:none"><i class="fas fa-cog"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
                    </ul>
                </nav>

                <!-- Mobile Menu Button -->
                <button class="mobile-menu-btn" id="openSidebar">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <div class="breadcrumb">
            <a href="index.html"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <span>/</span>
            <a href="reviews-list.html"><i class="fas fa-list"></i> Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</a>
            <span>/</span>
            <span id="review-breadcrumb">Ø¬Ø§Ø±Ù Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span>
        </div>

        <!-- Loading -->
        <div id="loading-state" style="text-align: center; padding: 80px 20px;">
            <i class="fas fa-spinner fa-spin" style="font-size: 3.5rem; color: var(--primary); margin-bottom: 20px;"></i>
            <h2>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©...</h2>
        </div>

        <!-- Error -->
        <div id="error-state" style="display: none; text-align: center; padding: 80px 20px;">
            <i class="fas fa-exclamation-triangle" style="font-size: 3.5rem; color: #ef4444; margin-bottom: 20px;"></i>
            <h2>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</h2>
            <a href="reviews-list.html" style="background: var(--primary); color: white; padding: 14px 28px; border-radius: 8px; text-decoration: none; display: inline-block; margin-top: 20px;">
                Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª
            </a>
        </div>

        <!-- Review Content -->
        <div id="review-content" style="display: none;">
            <!-- Hero -->
            <div class="review-hero">
                <div class="review-content">
                    <h1 class="review-title" id="review-title">...</h1>
                    <div class="review-meta">
                        <div class="meta-item">
                            <i class="fas fa-user-tie"></i>
                            <span id="review-developer">...</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-tag"></i>
                            <span id="review-genre">...</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-calendar-alt"></i>
                            <span id="review-date">...</span>
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-gamepad"></i>
                            <span id="review-platform">...</span>
                        </div>
                    </div>
                    <div class="rating-section">
                        <div>
                            <div class="rating-number" id="review-rating">0.0</div>
                            <div>Ù…Ù† 10</div>
                        </div>
                        <div class="stars" id="review-stars"></div>
                        <div style="background: rgba(253,203,110,0.1); padding: 15px 25px; border-radius: 12px;">
                            <div style="font-size: 1.4rem; font-weight: 700; color: #f59e0b;" id="rating-description">...</div>
                        </div>
                    </div>
                </div>
                <div class="review-image-container">
                    <img id="review-image" class="review-image" src="" alt="ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù">
                </div>
            </div>

            <!-- Summary -->
            <div class="content-section">
                <h2><i class="fas fa-file-alt"></i> Ø§Ù„Ù…Ù„Ø®Øµ</h2>
                <p id="review-summary">...</p>
            </div>

            <!-- Full Content -->
            <div id="full-content" class="content-section" style="display: none;">
                <h2><i class="fas fa-newspaper"></i> Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©</h2>
                <div id="review-content-text" style="line-height: 1.8; color: var(--text-light);"></div>
            </div>

            <!-- Screenshots -->
            <div id="screenshots-section" class="screenshots-section" style="display: none;">
                <h2><i class="fas fa-images"></i> Ù„Ù‚Ø·Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø©</h2>
                <div id="screenshots-slider" class="screenshots-slider"></div>
            </div>

            <!-- Tags -->
            <div id="tags-section" class="tags-section" style="display: none;">
                <h2><i class="fas fa-tags"></i> Ø§Ù„ÙˆØ³ÙˆÙ…</h2>
                <div id="tags-container" class="tags-container"></div>
            </div>

            <!-- Stats -->
            <div id="stats-section" class="stats-section" style="display: none;">
                <h2><i class="fas fa-chart-line"></i> Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <i class="fas fa-eye"></i>
                        <div class="stat-value" id="views-count">0</div>
                        <div>Ù…Ø´Ø§Ù‡Ø¯Ø©</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-heart"></i>
                        <div class="stat-value" id="likes-count">0</div>
                        <div>Ø¥Ø¹Ø¬Ø§Ø¨</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-comments"></i>
                        <div class="stat-value" id="comments-count">0</div>
                        <div>ØªØ¹Ù„ÙŠÙ‚</div>
                    </div>
                </div>
            </div>

            <!-- Purchase -->
            <div id="purchase-section" class="purchase-section" style="display: none;">
                <h2><i class="fas fa-shopping-cart"></i> Ø´Ø±Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
                <div id="platforms-grid" class="platforms-grid"></div>
            </div>

            <!-- Related Reviews -->
            <div id="related-section" class="content-section" style="display: none;">
                <h2><i class="fas fa-gamepad"></i> Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ù…Ø´Ø§Ø¨Ù‡Ø©</h2>
                <div id="related-grid" class="related-grid"></div>
            </div>

            <!-- Comments Form -->
            <div class="comment-form-section">
                <h2><i class="fas fa-comment-medical"></i> Ø£Ø¶Ù ØªØ¹Ù„ÙŠÙ‚Ùƒ</h2>
                <form id="comment-form">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: var(--text-light);">Ø§Ø³Ù…Ùƒ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                            <input type="text" id="comment-author" class="form-input" placeholder="ÙŠÙ…ÙƒÙ†Ùƒ ØªØ±ÙƒÙ‡Ø§ ÙØ§Ø±ØºØ©" maxlength="50">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 8px; color: var(--text-light);">Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                            <input type="email" id="comment-email" class="form-input" placeholder="Ù„Ù† ÙŠØªÙ… Ù†Ø´Ø± Ø¨Ø±ÙŠØ¯Ùƒ">
                        </div>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; color: var(--text-light);">ØªØ¹Ù„ÙŠÙ‚Ùƒ (500 Ø­Ø±Ù ÙƒØ­Ø¯ Ø£Ù‚ØµÙ‰)</label>
                        <textarea id="comment-text" class="form-textarea" placeholder="Ø§ÙƒØªØ¨ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ù‡Ù†Ø§..." rows="4" required maxlength="500"></textarea>
                        <div id="char-counter" class="char-counter">
                            <span id="chars-remaining">500</span> Ø­Ø±Ù Ù…ØªØ¨Ù‚ÙŠ
                        </div>
                    </div>
                    <button type="submit" style="background: var(--primary); color: white; padding: 14px 32px; border-radius: 8px; border: none; font-weight: 700; cursor: pointer;">
                        <i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚
                    </button>
                </form>
            </div>

            <!-- Comments -->
            <div class="comments-section">
                <h2><i class="fas fa-comments"></i> Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª (<span id="comments-total-count">0</span>)</h2>
                <div id="comments-list" style="margin-top: 30px;"></div>
                <div id="no-comments" style="display: none; text-align: center; padding: 60px 20px;">
                    <i class="far fa-comment-dots" style="font-size: 3rem; color: var(--primary); margin-bottom: 20px;"></i>
                    <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø¨Ø¹Ø¯</h3>
                    <p>ÙƒÙ† Ø£ÙˆÙ„ Ù…Ù† ÙŠØ¹Ù„Ù‚ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©!</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container" style="text-align: center;">
            <div class="logo-text" style="font-size: 2rem; margin-bottom: 20px;">ReviewQeem</div>
            <p style="color: var(--text-light); margin-bottom: 20px;">Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</p>
            <div style="color: var(--text-light); font-size: 0.9rem;">Â© 2024 ReviewQeem â€” Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Config
        const API_BASE = "https://reviewqeem.online/api";
        const DEFAULT_IMAGE = "https://reviewqeem.online/uploads/images/default-review.jpg";
        
        // Globals
        let currentReview = null;
        let allReviews = [];
        let currentReviewComments = [];
        
        // Init
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const reviewId = urlParams.get('id');
        
            if (!reviewId) {
                showError();
                return;
            }
        
            setupMobileMenu();
            setupCommentForm();
            loadReviewData(reviewId);
            checkAdmin();
        });
        
        // Mobile Menu Setup
        function setupMobileMenu() {
            const openBtn = document.getElementById('openSidebar');
            const closeBtn = document.getElementById('closeSidebar');
            const sidebar = document.getElementById('mobileSidebar');
            const overlay = document.getElementById('sidebarOverlay');
            
            openBtn?.addEventListener('click', () => {
                sidebar.classList.add('active');
                overlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            closeBtn?.addEventListener('click', closeMenu);
            overlay?.addEventListener('click', closeMenu);
            
            function closeMenu() {
                sidebar.classList.remove('active');
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            }
            
            // Close on ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeMenu();
            });
        }
        
        // Admin Check
        function checkAdmin() {
            try {
                const session = JSON.parse(localStorage.getItem('admin_session_reviewqeem'));
                const isAdmin = session?.data && Date.now() < (session.expires || 0);
                if (isAdmin) {
                    document.getElementById('adminNavLink').style.display = 'inline-block';
                    document.getElementById('adminMobileLink').style.display = 'block';
                }
            } catch (e) {}
        }
        
        // Setup Comment Form
        function setupCommentForm() {
            const commentText = document.getElementById('comment-text');
            const charCounter = document.getElementById('char-counter');
            const charsRemaining = document.getElementById('chars-remaining');
        
            commentText.addEventListener('input', function() {
                const remaining = 500 - this.value.length;
                charsRemaining.textContent = remaining;
                charCounter.classList.toggle('warning', remaining <= 50 && remaining > 0);
                charCounter.classList.toggle('error', remaining <= 0);
            });
        
            document.getElementById('comment-form').addEventListener('submit', async function(e) {
                e.preventDefault();
                await submitComment();
            });
        }
        
        // Load Review Data
        async function loadReviewData(reviewId) {
            try {
                const response = await fetch(`${API_BASE}/reviews/${reviewId}`);
                const data = await response.json();
        
                if (!data.success || !data.review) throw new Error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©');
        
                currentReview = data.review;
                await loadAllReviews();
                await loadComments(reviewId);
                hideLoading();
                displayReview();
        
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', error);
                showError();
            }
        }
        
        // Load All Reviews
        async function loadAllReviews() {
            try {
                const response = await fetch(`${API_BASE}/reviews`);
                const data = await response.json();
                if (data.success && Array.isArray(data.reviews || data.data)) {
                    allReviews = data.reviews || data.data;
                }
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª:', error);
            }
        }
        
        // Load Comments
        async function loadComments(reviewId) {
            try {
                const response = await fetch(`${API_BASE}/comments/${reviewId}`);
                const data = await response.json();
        
                if (data.success && Array.isArray(data.comments)) {
                    currentReviewComments = data.comments;
                    updateCommentsCount();
                    displayComments(currentReviewComments.filter(c => c.status === 'approved'));
                }
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª:', error);
            }
        }
        
        // Display Review
        function displayReview() {
            // Basic info
            document.getElementById('review-breadcrumb').textContent = currentReview.title;
            document.getElementById('review-title').textContent = currentReview.title;
            document.getElementById('review-developer').textContent = currentReview.developer || 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
            
            // âœ… FIXED: getGenreName handles both string and array
            document.getElementById('review-genre').textContent = getGenreName(currentReview.genre);
            
            document.getElementById('review-date').textContent = formatDate(currentReview.releaseDate || currentReview.reviewDate);
            document.getElementById('review-platform').textContent = getPlatformNames(currentReview.platforms);
            
            // âœ… FIXED: Typo correction
            document.getElementById('review-summary').textContent = currentReview.summary || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù„Ø®Øµ Ù…ØªÙˆÙØ±';
        
            // âœ… FIXED: Image with safe fallback
            const reviewImage = document.getElementById('review-image');
            reviewImage.onerror = function() {
                if (this.src !== DEFAULT_IMAGE) {
                    this.src = DEFAULT_IMAGE;
                }
            };
            reviewImage.src = currentReview.cover_image || currentReview.coverImage || DEFAULT_IMAGE;
            reviewImage.alt = `ØºÙ„Ø§Ù ${currentReview.title}`;
        
            // Rating
            const rating = currentReview.rating || 0;
            document.getElementById('review-rating').textContent = rating.toFixed(1);
            const starCount = Math.round(rating / 2);
            const starsContainer = document.getElementById('review-stars');
            starsContainer.innerHTML = '';
            for (let i = 1; i <= 5; i++) {
                const star = document.createElement('i');
                star.className = i <= starCount ? 'fas fa-star' : 'far fa-star';
                starsContainer.appendChild(star);
            }
            document.getElementById('rating-description').textContent = getRatingDescription(rating);
        
            // Other sections
            displayFullContent();
            displayScreenshots();
            displayTags();
            displayStats();
            displayPurchaseOptions();
            displayRelatedReviews();
        
            // Show content
            document.getElementById('review-content').style.display = 'block';
        }
        
        // Display Full Content
        function displayFullContent() {
            const contentContainer = document.getElementById('review-content-text');
        
            if (currentReview.content) {
                const paragraphs = currentReview.content.split('\n');
                contentContainer.innerHTML = '';
                paragraphs.forEach(paragraph => {
                    if (paragraph.trim()) {
                        const p = document.createElement('p');
                        p.textContent = paragraph;
                        contentContainer.appendChild(p);
                    }
                });
                document.getElementById('full-content').style.display = 'block';
            }
        }
        
        // Display Screenshots
        function displayScreenshots() {
            const screenshotsSlider = document.getElementById('screenshots-slider');
            const screenshots = currentReview.screenshots || [];
        
            if (screenshots.length > 0) {
                screenshotsSlider.innerHTML = '';
                screenshots.forEach((screenshot) => {
                    const item = document.createElement('div');
                    item.className = 'screenshot-item';
                    const img = document.createElement('img');
                    img.onerror = () => img.src = 'https://placehold.co/300x200/1a1a24/6c5ce7?text=Screenshot';
                    img.src = screenshot;
                    item.appendChild(img);
                    screenshotsSlider.appendChild(item);
                });
                document.getElementById('screenshots-section').style.display = 'block';
            }
        }
        
        // Display Tags
        function displayTags() {
            const tagsContainer = document.getElementById('tags-container');
            let tags = currentReview.tags || [];
        
            if ((!tags || tags.length === 0) && currentReview.genre) {
                tags = Array.isArray(currentReview.genre) 
                    ? [...currentReview.genre]
                    : currentReview.genre.split(',').map(g => g.trim());
            }
        
            if (tags.length > 0) {
                tagsContainer.innerHTML = '';
                tags.forEach(tag => {
                    const tagElement = document.createElement('div');
                    tagElement.className = 'tag';
                    tagElement.textContent = tag;
                    tagsContainer.appendChild(tagElement);
                });
                document.getElementById('tags-section').style.display = 'block';
            }
        }
        
        // Display Stats
        function displayStats() {
            const views = currentReview.views || 0;
            const likes = currentReview.likes || 0;
            const approvedComments = currentReviewComments.filter(c => c.status === 'approved');
        
            document.getElementById('views-count').textContent = formatNumber(views);
            document.getElementById('likes-count').textContent = formatNumber(likes);
            document.getElementById('comments-count').textContent = formatNumber(approvedComments.length);
            document.getElementById('stats-section').style.display = 'block';
        }
        
        // Display Purchase Options
        function displayPurchaseOptions() {
            const platformsGrid = document.getElementById('platforms-grid');
        
            if (currentReview.platforms && Array.isArray(currentReview.platforms)) {
                currentReview.platforms.forEach(platform => {
                    const card = document.createElement('div');
                    card.className = 'platform-card';
                    card.innerHTML = `
                        <div style="font-size: 1.4rem; font-weight: 700; margin-bottom: 15px;">${platform.name || platform}</div>
                        ${platform.price ? `<div style="font-size: 1.8rem; font-weight: 900; color: #10b981; margin-bottom: 10px;">${platform.price} Ø±ÙŠØ§Ù„</div>` : ''}
                        ${platform.url ? `
                            <a href="${platform.url}" target="_blank" class="btn-buy">
                                <i class="fas fa-shopping-cart"></i> Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¢Ù†
                            </a>
                        ` : `
                            <button class="btn-buy" disabled>
                                <i class="fas fa-ban"></i> ØºÙŠØ± Ù…ØªØ§Ø­ Ù„Ù„Ø´Ø±Ø§Ø¡
                            </button>
                        `}
                    `;
                    platformsGrid.appendChild(card);
                });
                document.getElementById('purchase-section').style.display = 'block';
            }
        }
        
        // Display Related Reviews
        function displayRelatedReviews() {
            const relatedGrid = document.getElementById('related-grid');
        
            if (allReviews.length <= 1) return;
        
            // Get related reviews by genre or random
            const relatedReviews = allReviews.filter(review => {
                if (review._id === currentReview._id) return false;
                if (review.genre && currentReview.genre) {
                    const currentGenres = Array.isArray(currentReview.genre) 
                        ? currentReview.genre 
                        : [currentReview.genre];
                    const reviewGenres = Array.isArray(review.genre) ? review.genre : [review.genre];
                    return reviewGenres.some(g => currentGenres.includes(g));
                }
                return false;
            });
        
            let reviewsToShow = relatedReviews.slice(0, 3);
        
            if (reviewsToShow.length === 0) {
                reviewsToShow = allReviews
                    .filter(r => r._id !== currentReview._id)
                    .slice(0, 3);
            }
        
            if (reviewsToShow.length > 0) {
                relatedGrid.innerHTML = '';
                reviewsToShow.forEach(review => {
                    const card = document.createElement('a');
                    card.className = 'related-card';
                    card.href = `review-view.html?id=${review._id}`;
        
                    const imageUrl = review.cover_image || review.coverImage || DEFAULT_IMAGE;
                    const img = document.createElement('img');
                    img.className = 'related-image';
                    img.alt = review.title;
                    img.onerror = () => img.src = DEFAULT_IMAGE;
                    img.src = imageUrl;
                    
                    const starCount = Math.round((review.rating || 0) / 2);
        
                    let stars = '';
                    for (let i = 1; i <= 5; i++) {
                        stars += `<i class="${i <= starCount ? 'fas' : 'far'} fa-star"></i>`;
                    }
        
                    card.innerHTML = `
                        ${img.outerHTML}
                        <div style="padding: 25px;">
                            <h3 style="font-size: 1.3rem; font-weight: 700; margin-bottom: 15px;">${review.title}</h3>
                            <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                                <div style="display: flex; gap: 4px;">${stars}</div>
                                <span>${(review.rating || 0).toFixed(1)}</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; color: var(--text-light); font-size: 0.9rem;">
                                <span><i class="fas fa-gamepad"></i> ${getPlatformNames(review.platforms) || 'Ù…ØªØ¹Ø¯Ø¯Ø©'}</span>
                                <span><i class="fas fa-calendar"></i> ${formatDate(review.releaseDate)}</span>
                            </div>
                        </div>
                    `;
                    relatedGrid.appendChild(card);
                });
                document.getElementById('related-section').style.display = 'block';
            }
        }
        
        // Display Comments
        function displayComments(comments) {
            const commentsList = document.getElementById('comments-list');
            const noCommentsDiv = document.getElementById('no-comments');
        
            if (comments.length === 0) {
                commentsList.innerHTML = '';
                noCommentsDiv.style.display = 'block';
                return;
            }
        
            noCommentsDiv.style.display = 'none';
            commentsList.innerHTML = '';
        
            comments.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
        
            comments.forEach(comment => {
                const card = document.createElement('div');
                card.style.cssText = 'background: rgba(255,255,255,0.05); border-radius: 12px; padding: 20px; margin-bottom: 15px;';
        
                const initials = comment.author 
                    ? comment.author.split(' ').map(n => n[0]).join('').toUpperCase()
                    : '?';
        
                card.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">
                        <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(135deg, #6c5ce7, #a29bfe); display: flex; align-items: center; justify-content: center; font-weight: 700; color: white;">${initials}</div>
                        <div>
                            <div style="font-weight: 700; font-size: 1.1rem;">${comment.author || 'Ù…Ø¬Ù‡ÙˆÙ„'}</div>
                            <div style="color: var(--text-light); font-size: 0.9rem;">${formatDate(comment.createdAt)}</div>
                        </div>
                    </div>
                    <div style="color: var(--text-light); line-height: 1.8;">${comment.content}</div>
                `;
                commentsList.appendChild(card);
            });
        }
        
        // Submit Comment
        async function submitComment() {
            const author = document.getElementById('comment-author').value.trim();
            const email = document.getElementById('comment-email').value.trim();
            const content = document.getElementById('comment-text').value.trim();
        
            if (!content) {
                alert('ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© ØªØ¹Ù„ÙŠÙ‚ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
                return;
            }
        
            try {
                const response = await fetch(`${API_BASE}/comments`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        reviewId: currentReview._id,
                        author: author || 'Ù…Ø¬Ù‡ÙˆÙ„',
                        email: email || null,
                        content: content
                    })
                });
        
                const data = await response.json();
        
                if (data.success) {
                    document.getElementById('comment-text').value = '';
                    document.getElementById('comment-author').value = '';
                    document.getElementById('comment-email').value = '';
                    document.getElementById('chars-remaining').textContent = '500';
                    alert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ ØªØ¹Ù„ÙŠÙ‚Ùƒ Ø¨Ù†Ø¬Ø§Ø­!');
                    await loadComments(currentReview._id);
                }
            } catch (error) {
                alert('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…');
            }
        }
        
        // Update Comments Count
        function updateCommentsCount() {
            const approvedComments = currentReviewComments.filter(c => c.status === 'approved');
            document.getElementById('comments-total-count').textContent = formatNumber(approvedComments.length);
        }
        
        // Utility Functions
        function hideLoading() {
            document.getElementById('loading-state').style.display = 'none';
        }
        
        function showError() {
            hideLoading();
            document.getElementById('error-state').style.display = 'block';
        }
        
        function getPlatformNames(platforms) {
            if (!platforms || !Array.isArray(platforms)) return 'Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ù…Ù†ØµØ§Øª';
            return platforms.map(p => typeof p === 'object' ? p.name : p).join('ØŒ ');
        }
        
        // âœ… FIXED: getGenreName handles both string and array
        function getGenreName(genre) {
            const genreMap = {
                'action': 'Ø£ÙƒØ´Ù†', 'adventure': 'Ù…ØºØ§Ù…Ø±Ø©', 'rpg': 'Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±',
                'strategy': 'Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©', 'sports': 'Ø±ÙŠØ§Ø¶Ø©', 'racing': 'Ø³Ø¨Ø§Ù‚Ø§Øª',
                'horror': 'Ø±Ø¹Ø¨', 'simulation': 'Ù…Ø­Ø§ÙƒØ§Ø©', 'puzzle': 'Ø£Ù„ØºØ§Ø²'
            };
        
            if (Array.isArray(genre)) {
                return genre.map(g => genreMap[g] || g).join('ØŒ ');
            }
        
            return genreMap[genre] || genre || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
        }
        
        function formatDate(dateString) {
            if (!dateString) return 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            try {
                const date = new Date(dateString);
                return date.toLocaleDateString('ar-EG', { year: 'numeric', month: 'long', day: 'numeric' });
            } catch { return dateString; }
        }
        
        function getRatingDescription(rating) {
            if (rating >= 9.5) return 'ØªØ­ÙØ© ÙÙ†ÙŠØ© ğŸ¨';
            if (rating >= 9.0) return 'Ø±Ø§Ø¦Ø¹Ø© Ø¬Ø¯Ø§Ù‹ â­â­â­â­â­';
            if (rating >= 8.0) return 'Ù…Ù…ØªØ§Ø²Ø© â­â­â­â­';
            if (rating >= 7.0) return 'Ø¬ÙŠØ¯Ø© Ø¬Ø¯Ø§Ù‹ â­â­â­';
            if (rating >= 6.0) return 'Ø¬ÙŠØ¯Ø© â­â­';
            return 'Ù…Ù‚Ø¨ÙˆÙ„Ø© â­';
        }
        
        function formatNumber(num) {
            if (!num) return '0';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }
    </script>
</body>
</html>
