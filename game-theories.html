<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ - ReviewQeem</title>

  <!-- SEO -->
  <meta name="description" content="Ø§Ø³ØªÙƒØ´Ù Ø£Ø¹Ù…Ù‚ Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ£Ø³Ø±Ø§Ø± Ø§Ù„Ù‚ØµØµ Ø§Ù„Ø®ÙÙŠØ© ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨. ØªØ­Ù„ÙŠÙ„Ø§Øª Ù…ØªØ¹Ù…Ù‚Ø© ÙˆÙ†Ø¸Ø±ÙŠØ§Øª Ù…Ø«ÙŠØ±Ø©.">
  <meta name="keywords" content="Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ø¹Ø§Ø¨, Ø§Ø³Ø±Ø§Ø± Ø§Ù„Ø¹Ø§Ø¨, theories gaming, ØªØ­Ù„ÙŠÙ„ Ù‚ØµØµ">
  <meta name="robots" content="index, follow">

  <!-- Fonts + Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=El+Messiri:wght@400;500;600;700&family=Tajawal:wght@300;400;500;700;800&family=Almarai:wght@300;400;700;800&display=swap" rel="stylesheet">
  
  <style>
    /* ==================== RESET & VARIABLES ==================== */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    :root {
        --primary: #1a1a2e;
        --primary-dark: #0d0d19;
        --secondary: #ff4d6d;
        --accent: #6a67ce;
        --golden: #FFB740;
        --neon-blue: #00f3ff;
        --neon-pink: #ff00cc;
        --dark-bg: #0a0a0f;
        --card-bg: #131320;
        --card-hover: #1c1c2e;
        --text-primary: #ffffff;
        --text-secondary: #b0b0d0;
        --text-muted: #8888aa;
        --border-color: #2a2a40;
        --success: #00b894;
        --warning: #fdcb6e;
        --danger: #ff7675;
        --info: #74b9ff;
        --shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
        --shadow-light: 0 5px 15px rgba(0, 0, 0, 0.3);
        --shadow-hover: 0 20px 50px rgba(0, 0, 0, 0.6);
        --radius: 16px;
        --radius-sm: 8px;
        --radius-lg: 24px;
        --transition: all 0.3s ease;
        --transition-fast: all 0.15s ease;
    }

    body {
        font-family: 'Tajawal', 'Almarai', sans-serif;
        background: var(--dark-bg);
        color: var(--text-primary);
        line-height: 1.7;
        min-height: 100vh;
        overflow-x: hidden;
        background-image: 
            radial-gradient(circle at 10% 20%, rgba(106, 103, 206, 0.05) 0%, transparent 20%),
            radial-gradient(circle at 90% 80%, rgba(255, 77, 109, 0.05) 0%, transparent 20%);
    }

    .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
    }

    /* ==================== HEADER ==================== */
    header {
        background: rgba(26, 26, 46, 0.98);
        padding: 12px 0;
        border-bottom: 1px solid rgba(255, 183, 64, 0.2);
        margin-bottom: 20px;
        position: sticky;
        top: 0;
        z-index: 1000;
        backdrop-filter: blur(10px);
        box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
    }

    .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    /* ===== Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ù…Ø£Ø®ÙˆØ° Ù…Ù† Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø±ÙÙ‚) ===== */
    .brand-logo {
        display: flex;
        align-items: center;
        gap: 12px;
        text-decoration: none;
        transition: var(--transition);
    }

    .brand-logo:hover {
        transform: translateY(-2px);
    }

    .logo-svg {
        width: 46px;
        height: 46px;
        filter: drop-shadow(0 0 16px rgba(255, 77, 109, 0.25));
    }

    .logo-text {
        display: flex;
        flex-direction: column;
        line-height: 1.1;
    }

    .logo-text b {
        font-size: 20px;
        font-weight: 900;
        letter-spacing: 0.5px;
        background: linear-gradient(135deg, var(--neon-blue), var(--golden), var(--secondary));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .logo-text span {
        font-size: 12px;
        color: var(--text-secondary);
    }

    /* Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù„Ø¬ÙˆØ§Ù„ */
    .menu-toggle {
        display: none;
        background: none;
        border: none;
        color: var(--text-primary);
        font-size: 1.4rem;
        cursor: pointer;
        padding: 10px 12px;
        border-radius: var(--radius-sm);
        transition: var(--transition);
        background: rgba(106, 103, 206, 0.1);
    }

    .menu-toggle:hover {
        background: rgba(106, 103, 206, 0.2);
    }

    /* ===== Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© ===== */
    .nav-links {
        display: flex;
        gap: 8px;
        list-style: none;
        align-items: center;
    }

    .nav-links li {
        position: relative;
    }

    .nav-links a {
        color: var(--text-secondary);
        text-decoration: none;
        font-weight: 600;
        padding: 10px 16px;
        border-radius: var(--radius);
        display: flex;
        align-items: center;
        gap: 10px;
        transition: var(--transition);
        position: relative;
        overflow: hidden;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid transparent;
    }

    .nav-links a:hover {
        color: var(--text-primary);
        border-color: rgba(106, 103, 206, 0.3);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    .nav-links a.active {
        color: var(--golden);
        background: rgba(255, 183, 64, 0.1);
        border-color: rgba(255, 183, 64, 0.3);
        box-shadow: 0 5px 15px rgba(255, 183, 64, 0.1);
    }

    /* ==================== PAGE HEADER ==================== */
    .page-header {
        text-align: center;
        margin-bottom: 40px;
        padding: 40px 0 30px;
        position: relative;
        overflow: hidden;
    }

    .page-header::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(45deg, 
            rgba(0, 243, 255, 0.1) 0%, 
            transparent 50%,
            rgba(106, 103, 206, 0.1) 100%);
        z-index: -1;
    }

    .page-header h1 {
        font-size: 2.8rem;
        margin-bottom: 15px;
        color: var(--text-primary);
        font-family: 'El Messiri', sans-serif;
        position: relative;
        display: inline-block;
    }

    .page-header h1 i {
        color: var(--neon-blue);
        margin-left: 10px;
    }

    .page-header h1::after {
        content: '';
        position: absolute;
        bottom: -10px;
        right: 0;
        width: 200px;
        height: 4px;
        background: linear-gradient(90deg, var(--neon-blue), transparent);
        border-radius: 2px;
    }

    .page-header p {
        color: var(--text-secondary);
        font-size: 1.2rem;
        max-width: 700px;
        margin: 0 auto;
        line-height: 1.8;
    }

    /* ==================== FEATURED THEORY ==================== */
    .featured-theory {
        background: linear-gradient(135deg, rgba(106, 103, 206, 0.15), rgba(0, 243, 255, 0.15));
        border-radius: var(--radius-lg);
        padding: 40px;
        margin-bottom: 40px;
        border: 2px solid var(--border-color);
        position: relative;
        overflow: hidden;
    }

    .featured-theory::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(0, 243, 255, 0.05) 0%, transparent 70%);
        z-index: 0;
    }

    .featured-content {
        position: relative;
        z-index: 1;
    }

    .featured-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: linear-gradient(135deg, var(--neon-blue), var(--accent));
        color: var(--primary-dark);
        padding: 8px 20px;
        border-radius: 25px;
        font-weight: 700;
        font-size: 0.9rem;
        margin-bottom: 20px;
    }

    .featured-title {
        font-size: 2.2rem;
        margin-bottom: 15px;
        color: var(--text-primary);
        line-height: 1.3;
    }

    .featured-summary {
        color: var(--text-secondary);
        font-size: 1.1rem;
        line-height: 1.8;
        margin-bottom: 25px;
        max-width: 800px;
    }

    .featured-meta {
        display: flex;
        gap: 20px;
        color: var(--text-muted);
        font-size: 0.95rem;
    }

    .read-featured-btn {
        display: inline-flex;
        align-items: center;
        gap: 10px;
        background: linear-gradient(135deg, var(--neon-blue), var(--accent));
        color: var(--primary-dark);
        padding: 12px 30px;
        border-radius: var(--radius);
        font-weight: 700;
        text-decoration: none;
        margin-top: 20px;
        transition: var(--transition);
        border: none;
        cursor: pointer;
        font-family: 'Tajawal', sans-serif;
    }

    .read-featured-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 25px rgba(0, 243, 255, 0.4);
    }

    /* ==================== SEARCH & FILTERS ==================== */
    .search-container {
        background: var(--card-bg);
        border-radius: var(--radius);
        padding: 25px;
        margin-bottom: 30px;
        border: 1px solid var(--border-color);
        box-shadow: var(--shadow-light);
    }

    .search-box {
        position: relative;
        margin-bottom: 20px;
    }

    .search-input {
        width: 100%;
        padding: 18px 60px 18px 25px;
        border-radius: var(--radius);
        border: 2px solid var(--border-color);
        background: var(--primary-dark);
        color: var(--text-primary);
        font-size: 1.1rem;
        transition: var(--transition);
        font-family: 'Tajawal', sans-serif;
    }

    .search-input:focus {
        outline: none;
        border-color: var(--neon-blue);
        box-shadow: 0 0 30px rgba(0, 243, 255, 0.3);
    }

    .search-icon {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-secondary);
        font-size: 1.2rem;
    }

    .filter-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 20px;
    }

    .filter-tag {
        padding: 8px 20px;
        background: rgba(106, 103, 206, 0.1);
        border-radius: 20px;
        color: var(--text-secondary);
        cursor: pointer;
        transition: var(--transition);
        border: 1px solid transparent;
        font-size: 0.9rem;
    }

    .filter-tag:hover {
        background: rgba(106, 103, 206, 0.2);
        color: var(--text-primary);
    }

    .filter-tag.active {
        background: rgba(0, 243, 255, 0.15);
        color: var(--neon-blue);
        border-color: var(--neon-blue);
    }

    .search-stats {
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: var(--text-secondary);
        font-size: 0.9rem;
        margin-top: 15px;
    }

    /* ==================== THEORIES GRID ==================== */
    .theories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
    }

    .theory-card {
        background: var(--card-bg);
        border-radius: var(--radius);
        overflow: hidden;
        border: 1px solid var(--border-color);
        transition: var(--transition);
        cursor: pointer;
        height: 100%;
        display: flex;
        flex-direction: column;
        position: relative;
        box-shadow: var(--shadow-light);
    }

    .theory-card:hover {
        border-color: var(--neon-blue);
        box-shadow: var(--shadow-hover);
        transform: translateY(-5px);
    }

    .theory-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: linear-gradient(135deg, var(--neon-blue), var(--accent));
        color: var(--primary-dark);
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 0.8rem;
        font-weight: 700;
        z-index: 1;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .card-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .theory-card:hover .card-image {
        transform: scale(1.03);
    }

    .card-content {
        padding: 20px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .card-title {
        font-size: 1.3rem;
        font-weight: 700;
        margin-bottom: 10px;
        color: var(--text-primary);
        line-height: 1.4;
        min-height: 3.5em;
    }

    .card-excerpt {
        color: var(--text-secondary);
        font-size: 0.95rem;
        line-height: 1.6;
        margin-bottom: 15px;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
        flex-grow: 1;
    }

    .card-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: var(--text-secondary);
        font-size: 0.9rem;
        padding-top: 15px;
        border-top: 1px solid var(--border-color);
        margin-top: auto;
    }

    .theory-type {
        color: var(--neon-blue);
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    /* ==================== CATEGORIES SECTION ==================== */
    .categories-section {
        background: rgba(26, 26, 46, 0.5);
        padding: 50px 0;
        margin: 60px 0;
        border-radius: var(--radius);
    }

    .categories-title {
        font-size: 2rem;
        margin-bottom: 30px;
        color: var(--text-primary);
        text-align: center;
        font-family: 'El Messiri', sans-serif;
    }

    .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }

    .category-card {
        background: var(--card-bg);
        padding: 25px;
        border-radius: var(--radius);
        text-align: center;
        border: 1px solid var(--border-color);
        transition: var(--transition);
        cursor: pointer;
    }

    .category-card:hover {
        border-color: var(--neon-blue);
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0, 243, 255, 0.2);
    }

    .category-icon {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, var(--accent), var(--neon-blue));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 15px;
        color: white;
        font-size: 1.5rem;
    }

    .category-card h3 {
        margin-bottom: 10px;
        color: var(--text-primary);
        font-size: 1.2rem;
    }

    .category-card p {
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    .category-count {
        display: inline-block;
        background: rgba(0, 243, 255, 0.1);
        color: var(--neon-blue);
        padding: 3px 12px;
        border-radius: 15px;
        font-size: 0.8rem;
        margin-top: 10px;
        font-weight: 600;
    }

    /* ==================== PAGINATION ==================== */
    .pagination {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin: 40px 0;
    }

    .page-btn {
        padding: 10px 18px;
        border-radius: var(--radius);
        border: 1px solid var(--border-color);
        background: var(--card-bg);
        color: var(--text-secondary);
        cursor: pointer;
        transition: var(--transition);
        font-family: 'Tajawal', sans-serif;
        font-weight: 600;
    }

    .page-btn:hover {
        border-color: var(--neon-blue);
        color: var(--text-primary);
        transform: translateY(-2px);
    }

    .page-btn.active {
        background: linear-gradient(135deg, var(--neon-blue), var(--accent));
        border-color: var(--neon-blue);
        color: var(--primary-dark);
        font-weight: 700;
    }

    /* ==================== LOADING & EMPTY STATES ==================== */
    .loading-state {
        text-align: center;
        padding: 80px 0;
    }

    .spinner {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        border: 5px solid var(--border-color);
        border-top-color: var(--neon-blue);
        animation: spin 0.8s linear infinite;
        margin: 0 auto 20px;
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }

    .empty-state {
        text-align: center;
        padding: 80px 20px;
        color: var(--text-secondary);
    }

    .empty-state i {
        font-size: 3.5rem;
        color: var(--border-color);
        margin-bottom: 15px;
        opacity: 0.7;
    }

    .empty-state h3 {
        margin-bottom: 10px;
        color: var(--text-primary);
        font-size: 1.5rem;
    }

    /* ==================== FOOTER ==================== */
    footer {
        background: var(--primary-dark);
        padding: 50px 0 20px;
        border-top: 2px solid var(--secondary);
        margin-top: 80px;
    }

    .footer-content {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 40px;
        margin-bottom: 40px;
    }

    .footer-section h3 {
        color: var(--golden);
        margin-bottom: 20px;
        font-size: 1.3rem;
        font-family: 'El Messiri', sans-serif;
    }

    .footer-description {
        color: var(--text-secondary);
        line-height: 1.7;
        margin: 15px 0;
    }

    .social-links {
        display: flex;
        gap: 15px;
        margin-top: 20px;
    }

    .social-link {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--card-bg);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--text-secondary);
        transition: var(--transition);
    }

    .social-link:hover {
        background: var(--secondary);
        color: white;
        transform: translateY(-5px);
    }

    .footer-links {
        list-style: none;
    }

    .footer-links li {
        margin-bottom: 12px;
    }

    .footer-links a {
        color: var(--text-secondary);
        text-decoration: none;
        transition: var(--transition-fast);
        display: flex;
        align-items: center;
        gap: 10px;
    }

    .footer-links a:hover {
        color: var(--secondary);
        transform: translateX(-5px);
    }

    /* ===== Ø´Ø±ÙƒØ§Ø¤Ù†Ø§ ===== */
    .partners {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 15px;
    }

    .partner {
        padding: 8px 16px;
        background: rgba(106, 103, 206, 0.15);
        border-radius: var(--radius-sm);
        color: var(--text-secondary);
        font-size: 0.9rem;
        font-weight: 600;
        border: 1px solid rgba(106, 103, 206, 0.3);
        transition: var(--transition);
    }

    .partner:hover {
        background: rgba(106, 103, 206, 0.25);
        color: var(--text-primary);
        transform: translateY(-3px);
        border-color: var(--accent);
    }

    .copyright {
        text-align: center;
        color: var(--text-secondary);
        padding-top: 30px;
        border-top: 1px solid var(--border-color);
        font-size: 0.9rem;
    }

    .made-with {
        margin-top: 10px;
        color: var(--text-muted);
        font-size: 0.85rem;
    }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 1200px) {
        .footer-content {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @media (max-width: 992px) {
        .theories-grid {
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        }
        
        .page-header h1 {
            font-size: 2.3rem;
        }
        
        .featured-title {
            font-size: 1.8rem;
        }
    }

    @media (max-width: 768px) {
        .menu-toggle {
            display: block;
        }

        .nav-links {
            position: fixed;
            top: 80px;
            right: -100%;
            width: 300px;
            height: calc(100vh - 80px);
            background: var(--primary);
            flex-direction: column;
            gap: 5px;
            padding: 20px;
            border-left: 2px solid var(--secondary);
            transition: right 0.3s ease;
            z-index: 1000;
            overflow-y: auto;
            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
        }

        .nav-links.active {
            right: 0;
        }

        .nav-links li {
            width: 100%;
        }

        .nav-links a {
            padding: 15px 20px;
            border-radius: var(--radius);
            margin-bottom: 5px;
            justify-content: flex-start;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .page-header {
            padding: 30px 0 20px;
        }
        
        .page-header h1 {
            font-size: 2rem;
        }
        
        .page-header p {
            font-size: 1.1rem;
        }
        
        .featured-theory {
            padding: 25px;
        }
        
        .featured-title {
            font-size: 1.5rem;
        }
        
        .featured-meta {
            flex-direction: column;
            gap: 10px;
        }
        
        .search-container {
            padding: 20px;
        }
        
        .theories-grid {
            grid-template-columns: 1fr;
        }
        
        .categories-grid {
            grid-template-columns: 1fr;
        }
        
        .footer-content {
            grid-template-columns: 1fr;
        }
    }

    @media (max-width: 480px) {
        .page-header h1 {
            font-size: 1.8rem;
        }
        
        .nav-links {
            width: 280px;
        }
        
        .search-input {
            padding: 15px 50px 15px 20px;
            font-size: 1rem;
        }
        
        .featured-theory {
            padding: 20px;
        }
    }
  </style>
</head>

<body>
    <!-- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ù…ÙˆØ­Ø¯ Ù…Ø¹ Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="brand-logo">
                    <!-- Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ø³ÙŠÙÙˆÙ†ÙŠ ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„Ù…Ù„Ù Ø§Ù„Ù…Ø±ÙÙ‚ -->
                    <svg class="logo-svg" viewBox="0 0 260 190" aria-label="ReviewQeem Logo">
                        <defs>
                            <linearGradient id="c1" x1="0" y1="0" x2="1" y2="1">
                                <stop offset="0" stop-color="#6a67ce"/><stop offset="1" stop-color="#ff4d6d"/>
                            </linearGradient>
                            <linearGradient id="c2" x1="0" y1="0" x2="1" y2="0">
                                <stop offset="0" stop-color="#00f3ff"/><stop offset="1" stop-color="#ffb740"/>
                            </linearGradient>
                        </defs>

                        <!-- Controller body -->
                        <path d="M55 70
                                C40 70,25 85,25 105
                                C25 135,50 155,78 150
                                L95 146
                                C110 143,117 154,130 154
                                C143 154,150 143,165 146
                                L182 150
                                C210 155,235 135,235 105
                                C235 85,220 70,205 70
                                Z"
                            fill="#121427" stroke="url(#c1)" stroke-width="6" />

                        <!-- Robot face plate (center) -->
                        <rect x="92" y="58" width="76" height="54" rx="16" fill="#0b0d18" stroke="url(#c2)" stroke-width="4"/>
                        <rect x="106" y="74" width="18" height="9" rx="5" fill="#ffb740"/>
                        <rect x="136" y="74" width="18" height="9" rx="5" fill="#ffb740"/>

                        <!-- D-pad -->
                        <g transform="translate(60,98)">
                            <rect x="0" y="14" width="36" height="10" rx="5" fill="#2a2a40"/>
                            <rect x="13" y="0" width="10" height="36" rx="5" fill="#2a2a40"/>
                            <circle cx="18" cy="19" r="6" fill="#00f3ff" opacity=".9"/>
                        </g>

                        <!-- Buttons -->
                        <g transform="translate(172,90)">
                            <circle cx="18" cy="18" r="10" fill="#ff4d6d"/>
                            <circle cx="40" cy="6"  r="7"  fill="#00f3ff" opacity=".9"/>
                            <circle cx="42" cy="30" r="7"  fill="#ffb740" opacity=".95"/>
                        </g>

                        <!-- Cable spark -->
                        <path d="M130 40 C140 30,155 28,168 36" fill="none" stroke="#00f3ff" stroke-width="4" stroke-linecap="round"/>
                        <circle cx="172" cy="38" r="5" fill="#ffb740"/>
                    </svg>
                    
                    <div class="logo-text">
                        <b>Ø±ÙŠÙÙŠÙˆ Ù‚ÙŠÙ…</b>
                        <span>Ù…Ø¬Ù„Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
                    </div>
                </a>

                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>

                <ul class="nav-links" id="navLinks">
                    <li><a href="index.html"><i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="reviews-list.html"><i class="fas fa-newspaper"></i> Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</a></li>
                    <li><a href="categories.html"><i class="fas fa-tags"></i> Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a></li>
                    <li><a href="game-theories.html" class="active"><i class="fas fa-brain"></i> Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</a></li>
                    <li><a href="guides.html"><i class="fas fa-book-open"></i> Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯Ø§Øª</a></li>
                    <li><a href="about.html"><i class="fas fa-users"></i> Ù…Ù† Ù†Ø­Ù†</a></li>
                    <li><a href="contact.html"><i class="fas fa-envelope"></i> Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                    <li><a href="admin.html" id="adminNavLink" style="display:none;"><i class="fas fa-cog"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
                </ul>
            </div>
        </div>
    </header>

    <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© -->
    <div class="container">
        <!-- Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø© -->
        <div class="page-header">
            <h1><i class="fas fa-brain"></i> Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</h1>
            <p>Ø§Ø³ØªÙƒØ´Ù Ø£Ø¹Ù…Ù‚ Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØªØ­Ù„ÙŠÙ„Ø§ØªÙ‡Ø§. Ù‡Ù†Ø§ Ù†ÙƒØ´Ù Ø§Ù„Ù†Ù‚Ø§Ø¨ Ø¹Ù† Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ù…Ø«ÙŠØ±Ø© ÙˆØ§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„Ù…Ø®ÙÙŠØ© ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</p>
        </div>

        <!-- Ù†Ø¸Ø±ÙŠØ© Ù…Ù…ÙŠØ²Ø© -->
        <div class="featured-theory" id="featuredTheory">
            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ù€ JavaScript -->
        </div>

        <!-- ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØµÙÙŠØ© -->
        <div class="search-container">
            <div class="search-box">
                <input type="text" 
                       id="searchInput" 
                       class="search-input"
                       placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù†Ø¸Ø±ÙŠØ©ØŒ Ù„Ø¹Ø¨Ø©ØŒ Ù„ØºØ²...">
                <i class="fas fa-search search-icon"></i>
            </div>
            
            <div class="filter-tags" id="filterTags">
                <span class="filter-tag active" data-filter="all">Ø§Ù„ÙƒÙ„</span>
                <span class="filter-tag" data-filter="story">Ù‚ØµØµÙŠØ©</span>
                <span class="filter-tag" data-filter="character">Ø´Ø®ØµÙŠØ§Øª</span>
                <span class="filter-tag" data-filter="ending">Ù†Ù‡Ø§ÙŠØ§Øª</span>
                <span class="filter-tag" data-filter="lore">Ø§Ù„Ù„ÙˆØ±</span>
                <span class="filter-tag" data-filter="easter">Ø£Ø³Ø±Ø§Ø±</span>
            </div>
            
            <div class="search-stats">
                <span id="resultsCount">0 Ù†Ø¸Ø±ÙŠØ©</span>
                <span id="searchTime"></span>
            </div>
        </div>

        <!-- Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
        <div id="loadingState" class="loading-state">
            <div class="spinner"></div>
            <p style="margin-top:15px; color:var(--text-secondary); font-size: 1.1rem;">
                <i class="fas fa-brain fa-spin"></i> Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª...
            </p>
        </div>

        <!-- Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù†ØªØ§Ø¦Ø¬ -->
        <div id="emptyState" class="empty-state" style="display:none;">
            <i class="fas fa-brain"></i>
            <h3>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù†Ø¸Ø±ÙŠØ§Øª</h3>
            <p>Ø­Ø§ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙƒÙ„Ù…Ø§Øª Ø¨Ø­Ø« Ù…Ø®ØªÙ„ÙØ© Ø£Ùˆ ØªØµÙØ­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª</p>
            <button onclick="showAllTheories()" style="margin-top:20px; padding:12px 24px; background:var(--neon-blue); color:var(--primary-dark); border:none; border-radius:var(--radius); cursor:pointer; font-family:'Tajawal'; font-weight:700;">
                <i class="fas fa-list"></i> Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª
            </button>
        </div>

        <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª -->
        <div id="theoriesGrid" class="theories-grid"></div>

        <!-- Ø§Ù„ØªØ±Ù‚ÙŠÙ… Ø§Ù„ØµÙØ­ÙŠ -->
        <div class="pagination" id="pagination" style="display:none;"></div>

        <!-- ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª -->
        <div class="categories-section">
            <h2 class="categories-title">ğŸ” ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª</h2>
            <div class="categories-grid">
                <div class="category-card" onclick="filterByCategory('story')">
                    <div class="category-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <h3>Ù†Ø¸Ø±ÙŠØ§Øª Ø§Ù„Ù‚ØµØµ</h3>
                    <p>ØªØ­Ù„ÙŠÙ„Ø§Øª Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù‚ØµØ© ÙˆØ§Ù„Ù†Ù‡Ø§ÙŠØ§Øª Ø§Ù„Ù…Ø®ÙÙŠØ©</p>
                    <span class="category-count" id="storyCount">12</span>
                </div>
                
                <div class="category-card" onclick="filterByCategory('character')">
                    <div class="category-icon">
                        <i class="fas fa-user-secret"></i>
                    </div>
                    <h3>Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ø´Ø®ØµÙŠØ§Øª</h3>
                    <p>Ù†Ø¸Ø±ÙŠØ§Øª Ø­ÙˆÙ„ Ù‡ÙˆÙŠØ§Øª Ø§Ù„Ø´Ø®ØµÙŠØ§Øª ÙˆØ¯ÙˆØ§ÙØ¹Ù‡Ø§</p>
                    <span class="category-count" id="characterCount">8</span>
                </div>
                
                <div class="category-card" onclick="filterByCategory('lore')">
                    <div class="category-icon">
                        <i class="fas fa-landmark"></i>
                    </div>
                    <h3>Ø¹Ø§Ù„Ù… Ø§Ù„Ù„ÙˆØ±</h3>
                    <p>ØªØ­Ù„ÙŠÙ„Ø§Øª Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØªØ§Ø±ÙŠØ®Ù‡Ø§</p>
                    <span class="category-count" id="loreCount">15</span>
                </div>
                
                <div class="category-card" onclick="filterByCategory('easter')">
                    <div class="category-icon">
                        <i class="fas fa-egg"></i>
                    </div>
                    <h3>Ø£Ø³Ø±Ø§Ø± Ù…Ø®ÙÙŠØ©</h3>
                    <p>Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ø³Ø±Ø§Ø± ÙˆØ§Ù„Ø¥ÙŠØ³ØªØ± Ø¥ÙŠØºØ²</p>
                    <span class="category-count" id="easterCount">7</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„ÙÙˆØªØ± Ø§Ù„Ù…ÙˆØ­Ø¯ -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <a href="index.html" class="brand-logo">
                        <svg class="logo-svg" viewBox="0 0 260 190" aria-label="ReviewQeem Logo" style="width: 40px; height: 40px;">
                            <defs>
                                <linearGradient id="c1f" x1="0" y1="0" x2="1" y2="1">
                                    <stop offset="0" stop-color="#6a67ce"/><stop offset="1" stop-color="#ff4d6d"/>
                                </linearGradient>
                                <linearGradient id="c2f" x1="0" y1="0" x2="1" y2="0">
                                    <stop offset="0" stop-color="#00f3ff"/><stop offset="1" stop-color="#ffb740"/>
                                </linearGradient>
                            </defs>

                            <path d="M55 70 C40 70,25 85,25 105 C25 135,50 155,78 150 L95 146 C110 143,117 154,130 154 C143 154,150 143,165 146 L182 150 C210 155,235 135,235 105 C235 85,220 70,205 70 Z"
                                fill="#121427" stroke="url(#c1f)" stroke-width="6" />

                            <rect x="92" y="58" width="76" height="54" rx="16" fill="#0b0d18" stroke="url(#c2f)" stroke-width="4"/>
                            <rect x="106" y="74" width="18" height="9" rx="5" fill="#ffb740"/>
                            <rect x="136" y="74" width="18" height="9" rx="5" fill="#ffb740"/>

                            <g transform="translate(60,98)">
                                <rect x="0" y="14" width="36" height="10" rx="5" fill="#2a2a40"/>
                                <rect x="13" y="0" width="10" height="36" rx="5" fill="#2a2a40"/>
                                <circle cx="18" cy="19" r="6" fill="#00f3ff" opacity=".9"/>
                            </g>

                            <g transform="translate(172,90)">
                                <circle cx="18" cy="18" r="10" fill="#ff4d6d"/>
                                <circle cx="40" cy="6"  r="7"  fill="#00f3ff" opacity=".9"/>
                                <circle cx="42" cy="30" r="7"  fill="#ffb740" opacity=".95"/>
                            </g>
                        </svg>
                        
                        <div class="logo-text">
                            <b>Ø±ÙŠÙÙŠÙˆ Ù‚ÙŠÙ…</b>
                            <span>Ù…Ø¬Ù„Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
                        </div>
                    </a>
                    <p class="footer-description">Ù…Ù†ØµØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø±Ø§Ø¦Ø¯Ø© Ø§Ù„ØªÙŠ ØªÙ‚Ø¯Ù… Ù…Ø­ØªÙˆÙ‰ Ù…Ù…ÙŠØ²Ø§Ù‹ ÙŠØºÙŠØ± Ø·Ø±ÙŠÙ‚Ø© Ù†Ø¸Ø±ØªÙƒ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-discord"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-telegram"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h3>Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹</h3>
                    <ul class="footer-links">
                        <li><a href="reviews-list.html"><i class="fas fa-newspaper"></i> Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø§Øª</a></li>
                        <li><a href="game-theories.html"><i class="fas fa-brain"></i> Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª</a></li>
                        <li><a href="guides.html"><i class="fas fa-book-open"></i> Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯Ø§Øª</a></li>
                        <li><a href="categories.html"><i class="fas fa-tags"></i> Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªÙ‡Ù…Ùƒ</h3>
                    <ul class="footer-links">
                        <li><a href="about.html"><i class="fas fa-users"></i> Ù…Ù† Ù†Ø­Ù†</a></li>
                        <li><a href="contact.html"><i class="fas fa-envelope"></i> Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                        <li><a href="privacy.html"><i class="fas fa-shield-alt"></i> Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>
                        <li><a href="terms.html"><i class="fas fa-file-contract"></i> Ø§Ù„Ø´Ø±ÙˆØ·</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>Ø´Ø±ÙƒØ§Ø¤Ù†Ø§</h3>
                    <div class="partners">
                        <span class="partner">Sony PlayStation</span>
                        <span class="partner">Microsoft Xbox</span>
                        <span class="partner">Steam</span>
                        <span class="partner">Epic Games</span>
                        <span class="partner">Nintendo</span>
                        <span class="partner">EA Sports</span>
                    </div>
                </div>
            </div>
            
            <div class="copyright">
                <p>Â© 2025 Ø±ÙŠÙÙŠÙˆ Ù‚ÙŠÙ…. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
                <p class="made-with">
                    ØµÙ†Ø¹ Ø¨ÙƒÙ„ â¤ï¸ Ùˆ <i class="fas fa-gamepad"></i> Ù„Ø¹Ø´Ø§Ù‚ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¹Ø±Ø¨
                </p>
            </div>
        </div>
    </footer>

    <script>
        // ===== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø© =====
        const menuToggle = document.getElementById('menuToggle');
        const navLinks = document.getElementById('navLinks');

        if (menuToggle && navLinks) {
            menuToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                navLinks.classList.toggle('active');
                menuToggle.innerHTML = navLinks.classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });

            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø±Ø§Ø¨Ø·
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                });
            });

            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
            document.addEventListener('click', (e) => {
                if (!navLinks.contains(e.target) && !menuToggle.contains(e.target)) {
                    navLinks.classList.remove('active');
                    menuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                }
            });

            // Ù…Ù†Ø¹ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¯Ø§Ø®Ù„Ù‡Ø§
            navLinks.addEventListener('click', (e) => {
                e.stopPropagation();
            });
        }

        // ===== Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª =====
        let allTheories = [];
        let filteredTheories = [];
        let currentPage = 1;
        const theoriesPerPage = 9;
        let currentFilter = 'all';
        let currentSearch = '';

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª
        document.addEventListener('DOMContentLoaded', async () => {
            await loadTheories();
            setupEventListeners();
            updateCategoryCounts();
            
            // ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø±Ø§Ø¨Ø·
            const urlParams = new URLSearchParams(window.location.search);
            const query = urlParams.get('search');
            if (query) {
                document.getElementById('searchInput').value = query;
                performSearch(query);
            }
        });

        async function loadTheories() {
            try {
                console.log('ğŸ“¡ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª...');
                const startTime = Date.now();
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù€ API Ø§Ù„Ù…Ø­Ù„ÙŠ
                let response;
                try {
                    response = await fetch("/api/theories/published");
                } catch (err) {
                    console.log('âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ù€ APIØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©');
                    allTheories = getSampleTheories();
                    displayFeaturedTheory();
                    displayTheories();
                    hideLoadingState();
                    updateStats();
                    return;
                }
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                
                if (data.success) {
                    allTheories = data.data || data.theories || [];
                } else {
                    allTheories = data.theories || [];
                }
                
                // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ù†Ø¸Ø±ÙŠØ§ØªØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
                if (!allTheories || allTheories.length === 0) {
                    allTheories = getSampleTheories();
                }
                
                const loadTime = Date.now() - startTime;
                console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${allTheories.length} Ù†Ø¸Ø±ÙŠØ© Ø®Ù„Ø§Ù„ ${loadTime}ms`);
                
                filteredTheories = [...allTheories];
                displayFeaturedTheory();
                displayTheories();
                hideLoadingState();
                updateStats();
                
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø±ÙŠØ§Øª:', error);
                allTheories = getSampleTheories();
                filteredTheories = [...allTheories];
                displayFeaturedTheory();
                displayTheories();
                hideLoadingState();
                updateStats();
            }
        }

        // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ©
        function getSampleTheories() {
            return [
                {
                    id: '1',
                    title: 'Ù†Ø¸Ø±ÙŠØ©: Ù‡Ù„ Ø³ÙˆÙ„Ø³ Ù‡Ùˆ Ø§Ù„Ø­Ù„Ù‚Ø© Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø© ÙÙŠ Ù‚ØµØ© Elden RingØŸ',
                    summary: 'ØªØ­Ù„ÙŠÙ„ Ø¹Ù…ÙŠÙ‚ Ù„Ø´Ø®ØµÙŠØ© Ø³ÙˆÙ„Ø³ ÙˆØ§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø®ÙÙŠØ© Ø¨ÙŠÙ†Ù‡ ÙˆØ¨ÙŠÙ† Ø£Ø³Ù„Ø§Ù Ø§Ù„Ø¢Ù„Ù‡Ø© ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ø±Ø§Ø¶ÙŠ Ø§Ù„Ø¨ÙŠÙ†ÙŠØ©. Ù‡Ù„ Ù‡Ùˆ Ù…Ø¬Ø±Ø¯ ØªØ§Ø¨Ø¹ Ø£Ù… Ø£Ù†Ù‡ Ø§Ù„Ù…ÙØªØ§Ø­ Ù„ÙÙ‡Ù… Ø§Ù„ÙƒÙˆÙ† ÙƒÙ„Ù‡ØŸ',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'lore',
                    game: 'Elden Ring',
                    views: 1250,
                    coverImage: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2025-01-12',
                    isFeatured: true,
                    author: 'Ù…Ø­Ù…Ø¯ Ø§Ù„Ø¹Ù„ÙŠ'
                },
                {
                    id: '2',
                    title: 'Ø£Ø³Ø±Ø§Ø± Timeline Ø²ÙŠÙ„Ø¯Ø§: Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©',
                    summary: 'Ù†Ø¸Ø±ÙŠØ§Øª Ù…Ø«ÙŠØ±Ø© Ø­ÙˆÙ„ Ø§Ù„ØªØ³Ù„Ø³Ù„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ø³Ù„Ø³Ù„Ø© Zelda ÙˆØ§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ø®ÙÙŠØ© Ø§Ù„ØªÙŠ Ù„Ù… ÙŠØªÙ… Ø§Ù„ÙƒØ´Ù Ø¹Ù†Ù‡Ø§ Ø£Ø¨Ø¯Ø§Ù‹ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ†.',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'lore',
                    game: 'The Legend of Zelda',
                    views: 980,
                    coverImage: 'https://images.unsplash.com/photo-1552820728-8b83bb6b773f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2025-01-08',
                    isFeatured: false,
                    author: 'Ø³Ø§Ø±Ø© Ø£Ø­Ù…Ø¯'
                },
                {
                    id: '3',
                    title: 'Ù„ØºØ² Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù€ Silent Hill 2',
                    summary: 'ØªØ­Ù„ÙŠÙ„ Ù…ØªØ¹Ù…Ù‚ Ù„Ù„Ù†Ù‡Ø§ÙŠØ§Øª Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ø¹Ø¨Ø© ÙˆØ£Ø³Ø±Ø§Ø± Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®ÙÙŠØ© Ø§Ù„ØªÙŠ Ù„Ù… ÙŠÙÙ‡Ù…Ù‡Ø§ Ù…Ø¹Ø¸Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†. Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©ØŸ',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'ending',
                    game: 'Silent Hill 2',
                    views: 1150,
                    coverImage: 'https://images.unsplash.com/photo-1538481199705-c710c4e965fc?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2025-01-03',
                    isFeatured: false,
                    author: 'Ø®Ø§Ù„Ø¯ Ø§Ù„Ø­Ø±Ø¨ÙŠ'
                },
                {
                    id: '4',
                    title: 'Ù†Ø¸Ø±ÙŠØ©: Ù‡Ù„ Ghost of Tsushima Ø­Ø¯Ø«Øª Ø­Ù‚Ø§Ù‹ØŸ',
                    summary: 'Ø¨Ø­Ø« ØªØ§Ø±ÙŠØ®ÙŠ Ø¹Ù…ÙŠÙ‚ Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ù„ÙŠØ§Ø¨Ø§Ù† ÙÙŠ ÙØªØ±Ø© Ø§Ù„ØºØ²Ùˆ Ø§Ù„Ù…ØºÙˆÙ„ÙŠ.',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'story',
                    game: 'Ghost of Tsushima',
                    views: 890,
                    coverImage: 'https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2024-12-28',
                    isFeatured: false,
                    author: 'Ù†ÙˆØ±Ø© Ø§Ù„ÙÙ‡Ø¯'
                },
                {
                    id: '5',
                    title: 'Ø³Ø± Ø§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Kratos Ùˆ Atreus ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„',
                    summary: 'ØªÙˆÙ‚Ø¹Ø§Øª ÙˆØªØ­Ù„ÙŠÙ„ Ù„Ù…Ø³Ø§Ø± Ø´Ø®ØµÙŠØ© Atreus Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙ„Ù…ÙŠØ­Ø§Øª ÙˆØ§Ù„Ø¥Ø´Ø§Ø±Ø§Øª Ø§Ù„Ù…Ø®ÙÙŠØ© ÙÙŠ God of War RagnarÃ¶k.',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'character',
                    game: 'God of War',
                    views: 1340,
                    coverImage: 'https://images.unsplash.com/photo-1550745165-9bc0b252726f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2024-12-25',
                    isFeatured: false,
                    author: 'ÙÙ‡Ø¯ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ'
                },
                {
                    id: '6',
                    title: 'Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ø£Ø±Ø¶ Ø§Ù„Ø¬ÙˆÙØ§Ø¡ ÙÙŠ Subnautica',
                    summary: 'ØªØ­Ù„ÙŠÙ„ Ù„Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø¹Ù…ÙŠÙ‚Ø© ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ù„Ø¹Ù„Ø§Ù‚Ø© Ø¨ÙŠÙ† Ø§Ù„ÙƒØ§Ø¦Ù†Ø§Øª Ø§Ù„Ø¨Ø­Ø±ÙŠØ© ÙˆÙ†Ø¸Ø±ÙŠØ© Ø§Ù„Ø£Ø±Ø¶ Ø§Ù„Ù…Ø¬ÙˆÙØ© ÙÙŠ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø­Ø¯ÙŠØ«.',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'lore',
                    game: 'Subnautica',
                    views: 760,
                    coverImage: 'https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2024-12-20',
                    isFeatured: false,
                    author: 'Ù„Ù…Ù‰ Ø§Ù„Ø³Ø¹Ø¯'
                },
                {
                    id: '7',
                    title: 'Ù„ØºØ² Ø§Ù„Ø´Ø®ØµÙŠØ© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù€ G-Man ÙÙŠ Half-Life',
                    summary: 'Ù…Ù† Ù‡Ùˆ G-ManØŸ ØªØ­Ù„ÙŠÙ„ Ù„ÙƒÙ„ Ø¸Ù‡ÙˆØ±Ø§ØªÙ‡ ÙˆØªØµØ±ÙŠØ­Ø§ØªÙ‡ Ù„ÙÙƒ Ù„ØºØ² Ù‡ÙˆÙŠØªÙ‡ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆØ¯ÙˆØ±Ù‡ ÙÙŠ Ø§Ù„ÙƒÙˆÙ†.',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'character',
                    game: 'Half-Life',
                    views: 2100,
                    coverImage: 'https://images.unsplash.com/photo-1511512578047-dfb367046420?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2024-12-15',
                    isFeatured: false,
                    author: 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø§Ù„Ù†Ø§ØµØ±'
                },
                {
                    id: '8',
                    title: 'Ø£Ø³Ø±Ø§Ø± Ø§Ù„ÙƒÙˆÙ† Ø§Ù„Ù…ÙˆØ§Ø²ÙŠ ÙÙŠ Bioshock Infinite',
                    summary: 'ÙÙƒ ØªØ´Ø§Ø¨Ùƒ Ø§Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø§Ù„Ù…ØªØ¹Ø¯Ø¯Ø© ÙˆÙÙ‡Ù… Ù…ÙÙ‡ÙˆÙ… Ø§Ù„Ø£ÙƒÙˆØ§Ù† Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ© ÙÙŠ Ù‚ØµØ© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©.',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'story',
                    game: 'Bioshock Infinite',
                    views: 1670,
                    coverImage: 'https://images.unsplash.com/photo-1621259182978-fbfc7a3db0a3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2024-12-10',
                    isFeatured: false,
                    author: 'Ø±ÙŠÙ… Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ'
                },
                {
                    id: '9',
                    title: 'Ø§Ù„Ø¥ÙŠØ³ØªØ± Ø¥ÙŠØº Ø§Ù„Ø£ØºØ±Ø¨ ÙÙŠ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨',
                    summary: 'Ø¬ÙˆÙ„Ø© ÙÙŠ Ø£ØºØ±Ø¨ ÙˆØ£Ø¹Ù…Ù‚ Ø§Ù„Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ù…Ø®ÙÙŠØ© ÙÙŠ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªÙŠ Ø§ÙƒØªØ´ÙÙ‡Ø§ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† Ø¨Ø§Ù„ØµØ¯ÙØ©.',
                    content: 'Ù…Ø­ØªÙˆÙ‰ Ù…ÙØµÙ„ Ù„Ù„Ù†Ø¸Ø±ÙŠØ©...',
                    type: 'easter',
                    game: 'Ù…Ø®ØªÙ„Ù',
                    views: 1980,
                    coverImage: 'https://images.unsplash.com/photo-1593305841991-05c297ba4575?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80',
                    createdAt: '2024-12-05',
                    isFeatured: false,
                    author: 'Ø£Ø­Ù…Ø¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ'
                }
            ];
        }

        function setupEventListeners() {
            const searchInput = document.getElementById('searchInput');
            
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©
            let searchTimeout;
            searchInput.addEventListener('input', (e) => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    const searchTerm = e.target.value.trim();
                    currentSearch = searchTerm;
                    if (searchTerm) {
                        performSearch(searchTerm);
                    } else {
                        currentPage = 1;
                        filterTheories();
                    }
                    updateURL();
                }, 300);
            });
            
            // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    const searchTerm = e.target.value.trim();
                    currentSearch = searchTerm;
                    if (searchTerm) {
                        performSearch(searchTerm);
                    } else {
                        currentPage = 1;
                        filterTheories();
                    }
                    updateURL();
                }
            });
            
            // ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.addEventListener('click', (e) => {
                    const filter = e.target.dataset.filter;
                    
                    // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ø´Ø·Ø©
                    document.querySelectorAll('.filter-tag').forEach(t => {
                        t.classList.remove('active');
                    });
                    e.target.classList.add('active');
                    
                    currentFilter = filter;
                    currentPage = 1;
                    filterTheories();
                    updateURL();
                });
            });
        }

        function displayFeaturedTheory() {
            const featured = allTheories.find(t => t.isFeatured) || allTheories[0];
            if (!featured) return;
            
            const container = document.getElementById('featuredTheory');
            container.innerHTML = `
                <div class="featured-content">
                    <span class="featured-badge"><i class="fas fa-crown"></i> Ù†Ø¸Ø±ÙŠØ© Ù…Ù…ÙŠØ²Ø©</span>
                    <h2 class="featured-title">${featured.title}</h2>
                    <p class="featured-summary">${featured.summary}</p>
                    <div class="featured-meta">
                        <span><i class="fas fa-gamepad"></i> ${featured.game}</span>
                        <span><i class="fas fa-user"></i> ${featured.author}</span>
                        <span><i class="far fa-eye"></i> ${featured.views.toLocaleString()} Ù…Ø´Ø§Ù‡Ø¯Ø©</span>
                        <span><i class="far fa-calendar"></i> ${formatDate(featured.createdAt)}</span>
                    </div>
                    <button class="read-featured-btn" onclick="viewTheory('${featured.id}')">
                        <i class="fas fa-book-open"></i> Ø§Ù‚Ø±Ø£ Ø§Ù„Ù†Ø¸Ø±ÙŠØ©
                    </button>
                </div>
            `;
        }

        function filterTheories() {
            const startTime = Date.now();
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØµÙÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
            if (currentFilter === 'all') {
                filteredTheories = [...allTheories];
            } else {
                filteredTheories = allTheories.filter(theory => theory.type === currentFilter);
            }
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¨Ø­Ø« Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹
            if (currentSearch) {
                const searchTerm = currentSearch.toLowerCase();
                filteredTheories = filteredTheories.filter(theory => {
                    const searchFields = [
                        theory.title || '',
                        theory.summary || '',
                        theory.game || '',
                        theory.author || '',
                        theory.type || ''
                    ].map(field => field.toLowerCase());
                    
                    return searchFields.some(field => field.includes(searchTerm));
                });
            }
            
            const filterTime = Date.now() - startTime;
            document.getElementById('searchTime').textContent = `(Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹: ${filterTime}ms)`;
            
            displayTheories();
        }

        function performSearch(query) {
            currentSearch = query;
            currentPage = 1;
            filterTheories();
        }

        function displayTheories() {
            const startIndex = (currentPage - 1) * theoriesPerPage;
            const endIndex = startIndex + theoriesPerPage;
            const theoriesToShow = filteredTheories.slice(startIndex, endIndex);
            
            displayTheoryCards(theoriesToShow);
            setupPagination(filteredTheories.length);
            updateStats();
        }

        function displayTheoryCards(theories) {
            const theoriesGrid = document.getElementById('theoriesGrid');
            
            if (!theories || theories.length === 0) {
                theoriesGrid.innerHTML = '';
                document.getElementById('emptyState').style.display = 'block';
                return;
            }
            
            document.getElementById('emptyState').style.display = 'none';
            
            theoriesGrid.innerHTML = theories.map(theory => {
                const imageUrl = theory.coverImage || 'https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80';
                const summary = theory.summary || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªÙˆÙØ±';
                const date = formatDate(theory.createdAt);
                const typeText = getTypeText(theory.type);
                const typeIcon = getTypeIcon(theory.type);
                
                return `
                    <div class="theory-card" onclick="viewTheory('${theory.id}')">
                        <span class="theory-badge">${typeIcon} ${typeText}</span>
                        <img src="${imageUrl}" 
                             alt="${theory.title}" 
                             class="card-image"
                             onerror="this.src='https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                        <div class="card-content">
                            <h3 class="card-title">${theory.title}</h3>
                            <p class="card-excerpt">${summary.substring(0, 120)}${summary.length > 120 ? '...' : ''}</p>
                            <div class="card-footer">
                                <span class="theory-type"><i class="fas fa-gamepad"></i> ${theory.game}</span>
                                <span><i class="far fa-eye"></i> ${theory.views.toLocaleString()}</span>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function getTypeText(type) {
            const types = {
                'story': 'Ù‚ØµØµÙŠØ©',
                'character': 'Ø´Ø®ØµÙŠØ§Øª',
                'ending': 'Ù†Ù‡Ø§ÙŠØ§Øª',
                'lore': 'Ø§Ù„Ù„ÙˆØ±',
                'easter': 'Ø£Ø³Ø±Ø§Ø±'
            };
            return types[type] || type;
        }

        function getTypeIcon(type) {
            const icons = {
                'story': 'ğŸ“–',
                'character': 'ğŸ‘¤',
                'ending': 'ğŸ¯',
                'lore': 'ğŸ›ï¸',
                'easter': 'ğŸ¥š'
            };
            return icons[type] || 'ğŸ§ ';
        }

        function setupPagination(totalTheories) {
            const totalPages = Math.ceil(totalTheories / theoriesPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }
            
            pagination.style.display = 'flex';
            
            let paginationHTML = '';
            
            // Ø²Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚
            if (currentPage > 1) {
                paginationHTML += `<button class="page-btn" onclick="changePage(${currentPage - 1})">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>`;
            }
            
            // Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ØµÙØ­Ø§Øª
            for (let i = 1; i <= totalPages; i++) {
                if (i === currentPage) {
                    paginationHTML += `<button class="page-btn active">${i}</button>`;
                } else if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                    paginationHTML += `<button class="page-btn" onclick="changePage(${i})">${i}</button>`;
                } else if (i === currentPage - 2 || i === currentPage + 2) {
                    paginationHTML += `<span style="color: var(--text-secondary); padding: 10px;">...</span>`;
                }
            }
            
            // Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
            if (currentPage < totalPages) {
                paginationHTML += `<button class="page-btn" onclick="changePage(${currentPage + 1})">Ø§Ù„ØªØ§Ù„ÙŠ</button>`;
            }
            
            pagination.innerHTML = paginationHTML;
        }

        function changePage(page) {
            currentPage = page;
            displayTheories();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function formatDate(dateString) {
            if (!dateString) return 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            try {
                const date = new Date(dateString);
                return date.toLocaleDateString('ar-EG', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
            } catch {
                return dateString;
            }
        }

        function hideLoadingState() {
            document.getElementById('loadingState').style.display = 'none';
        }

        function updateStats() {
            document.getElementById('resultsCount').textContent = `${filteredTheories.length} Ù†Ø¸Ø±ÙŠØ©`;
        }

        function updateCategoryCounts() {
            const categories = ['story', 'character', 'lore', 'easter'];
            categories.forEach(category => {
                const count = allTheories.filter(t => t.type === category).length;
                document.getElementById(`${category}Count`).textContent = count;
            });
        }

        function viewTheory(theoryId) {
            window.location.href = `theory-view.html?id=${theoryId}`;
        }

        function filterByCategory(category) {
            currentFilter = category;
            currentPage = 1;
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØµÙÙŠØ©
            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.classList.remove('active');
                if (tag.dataset.filter === category) {
                    tag.classList.add('active');
                }
            });
            
            filterTheories();
            updateURL();
        }

        function showAllTheories() {
            document.getElementById('searchInput').value = '';
            currentSearch = '';
            currentFilter = 'all';
            currentPage = 1;
            
            // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØµÙÙŠØ©
            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.classList.remove('active');
                if (tag.dataset.filter === 'all') {
                    tag.classList.add('active');
                }
            });
            
            filterTheories();
            updateURL();
        }

        function updateURL() {
            const newUrl = new URL(window.location);
            if (currentSearch) {
                newUrl.searchParams.set('search', currentSearch);
            } else {
                newUrl.searchParams.delete('search');
            }
            window.history.pushState({}, '', newUrl);
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø£Ø¯Ù…Ù†
        function checkAdminSession() {
            const adminLink = document.getElementById('adminNavLink');
            if (!adminLink) return;
            
            try {
                const session = localStorage.getItem('admin_session_reviewqeem');
                if (!session) {
                    adminLink.style.display = 'none';
                    return;
                }
                
                const sessionData = JSON.parse(session);
                const isAdmin = sessionData && 
                               sessionData.expires && 
                               Date.now() < sessionData.expires;
                
                adminLink.style.display = isAdmin ? 'flex' : 'none';
                
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù„Ø³Ø© Ø§Ù„Ø£Ø¯Ù…Ù†:', error);
                adminLink.style.display = 'none';
            }
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø¬Ù„Ø³Ø© Ø§Ù„Ø£Ø¯Ù…Ù† Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener('DOMContentLoaded', checkAdminSession);
    </script>
</body>
</html>
